/// Check if a font variant exists for a family.
///
/// @deprecated - oFontsVariantExists will be removed in the next major version of o-fonts. It does not account for variable font files, which support multiple weights. Now always returns `true`.
/// @access public
/// @param {String} $family
/// @param {String} $weight [regular] - The font weight.
/// @param {String} $style [normal] - The font style.
/// @return {Bool}
/// @see oFontsDefineCustomFont To register a custom font's available variants.
@function oFontsVariantExists($family, $weight, $style) {
	@warn 'Remove use of oFontsVariantExists. It is deprecated and will be removed ' +
	' in the next major version of o-fonts. oFontsVariantExists does not account for ' +
	'variable font files, which support multiple weights. Now always returns `true`.';
	@return true;
}


/// Check if a font variant has been included
/// in your project with the `oFonts` mixin.
///
/// @deprecated - oFontsVariantIncluded is deprecated and will be removed in the next major version of o-fonts. oFontsVariantIncluded did not account for variable font files, which support multiple weights and now always returns `true`.';
/// @access public
/// @param {String} $family
/// @param {String} $weight [regular] - The font weight.
/// @param {String} $style [normal] - The font style.
/// @return {Bool}
/// @see oFonts To include fonts
@function oFontsVariantIncluded($family, $weight, $style) {
	@warn 'Remove use of oFontsVariantIncluded. It is deprecated and will be removed ' +
	' in the next major version of o-fonts. oFontsVariantIncluded did not account for ' +
	'variable font files, which support multiple weights and now always returns `true`.';

	@return true;
}

/// Get a font-family stack with the appropriate fallbacks
///
/// @example scss
/// 	font-family: oFontsGetFontFamilyWithFallbacks(FinancierDisplayWeb);
///
/// @param {String} family
/// @return {String} - font-stack
@function oFontsGetFontFamilyWithFallbacks($family) {
	@if($family == 'MetricWeb') {
		@return MetricWeb, sans-serif;
	}

	@if($family == 'FinancierDisplayWeb') {
		@return FinancierDisplayWeb, serif;
	}

	@if($family == 'FinancierTextWeb') {
		@return FinancierTextWeb, serif;
	}

	// @todo this function must still support custom font faces
	@if($family == 'Georgia') {
		@return Georgia, serif;
	}

	@error 'Font "#{inspect($family)}" not found. "$family" must be one of "MetricWeb", "FinancierDisplayWeb", or "FinancierTextWeb".';
}

/// Removes a fonts fallbacks.
///
/// @example
///     $family: oFontsGetFontFamilyWithoutFallbacks('FinancierDisplayWeb, sans'); //FinancierDisplayWeb
///
/// @param {String|List} $family - Font family potentially with fallbacks.
/// @returns {String} Font family without fallbacks.
@function oFontsGetFontFamilyWithoutFallbacks($family) {
	@if type-of($family) == 'list' {
		@return nth($family, 1);
	}
	$index: str-index($family, ',');
	@if $index {
		$family: str-slice($family, 0, $index - 1);
	}
	@return if($family, $family, '');
}

/// Machine-readable CSS font-weight.
///
/// @example scss
/// 	font-weight: oFontsWeight(lighter);
///
/// @param {String} $keyword - Human-readable keyword e.g. 'semibold', 'regular', 'bold'.
/// @return {Number} - CSS font-weight
@function oFontsWeight($keyword) {
	@if not map-has-key($_o-fonts-weights, $keyword) {
		@error 'Font weight "#{$keyword}" not found. Must be one of #{inspect(map-keys($_o-fonts-weights))}.';
	}

	@return map-get($_o-fonts-weights, $keyword);
}
