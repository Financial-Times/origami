@import '@financial-times/o-brand/main';
@import '@financial-times/o-spacing/main';
@import '@financial-times/o-normalise/main';
@import '@financial-times/o-typography/main';
@import '@financial-times/o-icons/main';
@import '@financial-times/o-forms/main';

@import './src/scss/variables';
@import 'src/scss/brand';
@import 'src/scss/base';

/// Output all oMultiSelect features
/// @param {Map} $opts [()] - A map of options to configure the output
/// @access public
/// @example scss
///		@include oMultiSelect($opts: (
///			// your opts here
///		))
@mixin oMultiSelect($opts: ()) {
	@include oForms(
		$opts: (
			'elements': (
				'text',
				'select',
			),
		)
	);

	.o-multi-select_enhanced,
	.o-multi-select-remove,
	.o-multi-select-dropdown {
		display: none;
	}
	.o-multi-select_enhanced {
		position: relative;
	}

	.o-multi-select-input {
		background-image: url(https://www.ft.com/__origami/service/image/v2/images/raw/fticon-v1:arrow-down?source=origami-build-service&format=svg);
		background-repeat: no-repeat;
		background-size: 24px 24px;
		cursor: pointer;
		background-position: right 8px center;
	}

	.o-multi-select__selected-options {
		display: none;
		list-style-type: none;
		max-width: 90%;
		padding: $_o-multi-select-padding;
		margin: 0;
		position: absolute;
		z-index: 1;

		li {
			display: inline-block;
			margin-bottom: 0;
			.o-multi-select__selected-options-button {
				border: none;
				background-color: oColorsByName('wheat');
				color: oColorsByName('black-80');
				margin-right: $_o-multi-select-spacing-two;
				font-size: inherit;
				padding: $_o-multi-select-spacing-one $_o-multi-select-spacing-two;
				height: 22px;

				span {
					@include oIconsContent(
						$icon-name: 'cross',
						$color: oColorsByName('black-80'),
						$size: 24
					);
					vertical-align: middle; // override default style from oIconsContent mixin
				}
			}
		}
	}

	.o-multi-select-input-wrapper {
		position: relative;
		background-color: oColorsByName('white');
		border: $_o-multi-select-border;

		.o-multi-select-input {
			border: none;
			padding: $_o-multi-select-padding;
		}
		.o-multi-select-dropdown {
			width: 100%;
			background-color: oColorsByName('white');
			padding: $_o-multi-select-spacing-two;
			border: $_o-multi-select-border;
			-moz-box-sizing: border-box;
			-webkit-box-sizing: border-box;
			box-sizing: border-box;
			position: absolute;
			left: 0;

			[role='option'] {
				color: oColorsByName('black-80');
				cursor: pointer;
				&:hover {
					background-color: oColorsMix(black, white, 20);
					color: initial;
				}
			}
			.o-multi-select-option__selected {
				background-color: oColorsMix(black, white, 20);
				color: initial;
			}
		}
	}
}
