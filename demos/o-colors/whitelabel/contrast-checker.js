(function () {
  // demos/src/shared/contrast-ratio.js
  function getWCAGRating(ratio, foreground, background) {
    var wcagRating;
    var message = "This combination passes WCAG color contrast guidelines";
    var combination = "<code>".concat(foreground, "</code> on <code>").concat(background, "</code>");

    if (ratio >= 7) {
      wcagRating = "AAA";
    } else if (ratio >= 4.5) {
      wcagRating = "AA";
    } else if (ratio >= 3) {
      wcagRating = "AA18";
      message = "Caution: When using this combination, text should be larger than 18px to pass WCAG color contrast guidelines.";
    } else {
      wcagRating = "Fail";
      message = "This combination does not pass WCAG color contrast guidelines.";
    }

    return {
      combination: combination,
      wcagRating: wcagRating,
      message: message
    };
  }

  function getContrastRatio(foreground, background) {
    var l1 = oColorsColorLuminance(foreground) + 0.05;
    var l2 = oColorsColorLuminance(background) + 0.05;
    var ratio = l1 / l2;

    if (l2 > l1) {
      ratio = 1 / ratio;
    }

    ratio = preciseFloor(ratio);
    return ratio;
  }

  function preciseFloor(number) {
    var decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;
    var multiplier = Math.pow(10, decimals);
    return Math.floor(number * multiplier) / multiplier;
  }

  function oColorsColorLuminance(hex) {
    hex = hex.trim() === "gray" ? "#808080" : hex;
    var hexValue = hex.replace("#", "").trim();
    var rgbPairs = hexValue.match(/.{1,2}/g);
    var decimals = rgbPairs.map(function (pair) {
      return parseInt(pair, 16);
    });
    var colors = {
      "red": decimals[0],
      "green": decimals[1],
      "blue": decimals[2]
    };
    Object.keys(colors).forEach(function (color) {
      colors[color] = colors[color] / 255;

      if (colors[color] < 0.03928) {
        colors[color] = colors[color] / 12.92;
      } else {
        colors[color] = (colors[color] + 0.055) / 1.055;
        colors[color] = Math.pow(colors[color], 2.4);
      }
    });
    return colors["red"] * 0.2126 + colors["green"] * 0.7152 + colors["blue"] * 0.0722;
  } // demos/src/shared/colors-mix.js


  var getHexValues = function getHexValues(mixer, base) {
    var root = getComputedStyle(document.documentElement);
    return {
      mixer: root.getPropertyValue("--o-colors-".concat(mixer)).replace(/^\s*#/, ""),
      base: root.getPropertyValue("--o-colors-".concat(base)).replace(/^\s*#/, "")
    };
  };

  var expandHexValues = function expandHexValues(value) {
    if (value.length === 3 || value.length === 4) {
      return value.split("").map(function (character) {
        return character + character;
      }).join("");
    }

    return value;
  };

  var mixHexes = function mixHexes(mixer, base) {
    var fullMixer = expandHexValues(mixer);
    var fullBase = expandHexValues(base);
    var radix = 16;

    var decimalToHex = function decimalToHex(decimal) {
      return decimal.toString(radix);
    };

    var hexToDecimal = function hexToDecimal(hex) {
      return parseInt(hex, radix);
    };

    var percentages = [0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100];
    return percentages.map(function (percent) {
      var hexValue = "#";

      for (var i = 0; i <= 5; i += 2) {
        var mixPair = hexToDecimal(fullMixer.substr(i, 2));
        var basePair = hexToDecimal(fullBase.substr(i, 2));
        var combinedPair = decimalToHex(Math.round(basePair + (mixPair - basePair) * (percent / 100)));

        while (combinedPair.length < 2) {
          combinedPair = "0".concat(combinedPair);
        }

        hexValue += combinedPair;
      }

      return hexValue;
    });
  }; // demos/src/contrast-checker/contrast-checker.js


  document.addEventListener("DOMContentLoaded", function () {
    var form = document.forms[0];
    var foreground = form["foreground"];
    var background = form["background"];
    form.addEventListener("change", function () {
      showContrastRatio(foreground, background);
    });
    showContrastRatio(foreground, background);
    document.querySelector(".trigger-input").addEventListener("click", function () {
      Origami["o-overlay"].getOverlays()["mixer-overlay"].open();
    });
  });

  function showContrastRatio(text, background) {
    var textHex = expandHexValues(changeColor(text.value, "foreground"));
    var backgroundHex = expandHexValues(changeColor(background.value, "background"));
    var ratio = getContrastRatio(textHex, backgroundHex);
    var rating = getWCAGRating(ratio, text.value, background.value);
    document.querySelector(".combination").innerHTML = rating.combination;
    document.querySelector(".contrast-ratio").innerHTML = "Contrast ratio: <strong>".concat(ratio, "</strong>");
    var ratingMessage = document.querySelector(".rating-message");
    ratingMessage.className = "rating-message rating-result--".concat(rating.wcagRating.toLowerCase());
    ratingMessage.innerHTML = rating.message;
    var wcagRating = document.querySelector(".wcag-rating");
    wcagRating.className = "wcag-rating rating-result--".concat(rating.wcagRating.toLowerCase());
    wcagRating.textContent = "WCAG ".concat(rating.wcagRating);
  }

  function changeColor(colorName, property) {
    var root = document.documentElement;
    var hexValue = getComputedStyle(root).getPropertyValue("--o-colors-".concat(colorName));

    if (hexValue.length <= 0) {
      hexValue = colorName;
    }

    root.style.setProperty("--".concat(property), hexValue);
    return hexValue.replace("#", "").trim();
  }

  var eventsAdded = false;
  document.addEventListener("oOverlay.ready", function () {
    generateRange();
    document.forms[0]["overlay-fieldset"].addEventListener("change", generateRange);

    if (!eventsAdded) {
      document.getElementById("add-mix").addEventListener("click", function () {
        var range = document.forms[0]["range"];
        addMixedSwatch("foreground", range.value);
        addMixedSwatch("background", range.value);
      });
      eventsAdded = true;
    }
  });

  var generateRange = function generateRange() {
    var form = document.forms[0];
    var hexes = getHexValues(form["mixer"].value, form["base"].value);
    var hexArray = mixHexes(hexes.mixer, hexes.base);
    var range = form["range"];
    hexArray.forEach(function (hex, index) {
      var input = range[index];
      input.style.backgroundColor = hex;
      input.setAttribute("value", hex);
    });
  };

  var addMixedSwatch = function addMixedSwatch(panelName, color) {
    var label = document.createElement("label");
    label.setAttribute("title", color);
    label.innerHTML = "\n\t\t<input type=\"radio\" name=\"".concat(panelName, "\" value=\"").concat(color, "\" style=\"background-color: ").concat(color, ";\"/>\n\t");
    document.forms[0][panelName][0].appendChild(label);
  };
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlbW9zL3NyYy9zaGFyZWQvY29udHJhc3QtcmF0aW8uanMiLCJkZW1vcy9zcmMvc2hhcmVkL2NvbG9ycy1taXguanMiLCJkZW1vcy9zcmMvY29udHJhc3QtY2hlY2tlci9jb250cmFzdC1jaGVja2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsV0FBQSxhQUFBLENBQXVCLEtBQXZCLEVBQThCLFVBQTlCLEVBQTBDLFVBQTFDLEVBQXNEO0FBQ3JELFFBQUksVUFBSjtBQUNBLFFBQUksT0FBQSxHQUFVLHdEQUFkO0FBQ0EsUUFBTSxXQUFBLG1CQUF1QixVQUF2Qiw4QkFBcUQsVUFBckQsWUFBTjs7QUFFQSxRQUFJLEtBQUEsSUFBUyxDQUFiLEVBQWdCO0FBQ2YsTUFBQSxVQUFBLEdBQWEsS0FBYjtBQUFhLEtBRGQsTUFDYyxJQUNILEtBQUEsSUFBUyxHQUROLEVBQ1c7QUFDeEIsTUFBQSxVQUFBLEdBQWEsSUFBYjtBQUFhLEtBRkEsTUFFQSxJQUNILEtBQUEsSUFBUyxDQUROLEVBQ1M7QUFDdEIsTUFBQSxVQUFBLEdBQWEsTUFBYjtBQUNBLE1BQUEsT0FBQSxrSEFBQTtBQUFVLEtBSEcsTUFJUDtBQUNOLE1BQUEsVUFBQSxHQUFhLE1BQWI7QUFDQSxNQUFBLE9BQUEsbUVBQUE7QUFBVTs7QUFHWCxXQUFPO0FBQ04sTUFBQSxXQUFBLEVBQUEsV0FETTtBQUVOLE1BQUEsVUFBQSxFQUFBLFVBRk07QUFHTixNQUFBLE9BQUEsRUFBQTtBQUhNLEtBQVA7QUFHQzs7QUFLRixXQUFBLGdCQUFBLENBQTBCLFVBQTFCLEVBQXNDLFVBQXRDLEVBQWtEO0FBQ2pELFFBQU0sRUFBQSxHQUFLLHFCQUFBLENBQXNCLFVBQXRCLENBQUEsR0FBb0MsSUFBL0M7QUFDQSxRQUFNLEVBQUEsR0FBSyxxQkFBQSxDQUFzQixVQUF0QixDQUFBLEdBQW9DLElBQS9DO0FBQ0EsUUFBSSxLQUFBLEdBQVEsRUFBQSxHQUFLLEVBQWpCOztBQUVBLFFBQUksRUFBQSxHQUFL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QUFrQyxJQUFBLENBQUssTUFBTCxDQUFBLENBQWEsS0FBL0MsQ0FBZDtBQUVBLFFBQU0sUUFBQSxHQUFXLFFBQUEsQ0FBUyxLQUFBLENBQU0sS0FBZixFQUFzQixLQUFBLENBQU0sSUFBNUIsQ0FBakI7QUFDQSxRQUFNLEtBQUEsR0FBUSxJQUFBLENBQUssT0FBTCxDQUFkO0FBRUEsSUFBQSxRQUFBLENBQVMsT0FBVCxDQUFpQixVQUFDLEdBQUQsRUFBTSxLQUFOLEVBQWdCO0FBQ2hDLFVBQU0sS0FBQSxHQUFRLEtBQUEsQ0FBTSxLQUFOLENBQWQ7QUFDQSxNQUFBLEtBQUEsQ0FBTSxLQUFOLENBQVksZUFBWixHQUE4QixHQUE5QjtBQUNBLE1BQUEsS0FBQSxDQUFNLFlBQU4sQ0FBbUIsT0FBbkIsRUFBNEIsR0FBNUI7QUFBNEIsS0FIN0I7QUFHNkIsR0FWOUI7O0FBY0EsTUFBTSxjQUFBLEdBQWlCLFNBQWpCLGNBQWlCLENBQUMsU0FBRCxFQUFZLEtBQVosRUFBc0I7QUFDNUMsUUFBTSxLQUFBLEdBQVEsUUFBQSxDQUFTLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBZDtBQUNBLElBQUEsS0FBQSxDQUFNLFlBQU4sQ0FBbUIsT0FBbkIsRUFBNEIsS0FBNUI7QUFFQSxJQUFBLEtBQUEsQ0FBTSxTQUFOLGdEQUM2QixTQUQ3Qix3QkFDa0QsS0FEbEQsMENBQ3FGLEtBRHJGO0FBSUEsSUFBQSxRQUFBLENBQVMsS0FBVCxDQUFlLENBQWYsRUFBa0IsU0FBbEIsRUFBNkIsQ0FBN0IsRUFBZ0MsV0FBaEMsQ0FBNEMsS0FBNUM7QUFBNEMsR0FSN0MiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBnZXRXQ0FHUmF0aW5nKHJhdGlvLCBmb3JlZ3JvdW5kLCBiYWNrZ3JvdW5kKSB7XG5cdGxldCB3Y2FnUmF0aW5nO1xuXHRsZXQgbWVzc2FnZSA9ICdUaGlzIGNvbWJpbmF0aW9uIHBhc3NlcyBXQ0FHIGNvbG9yIGNvbnRyYXN0IGd1aWRlbGluZXMnO1xuXHRjb25zdCBjb21iaW5hdGlvbiA9IGA8Y29kZT4ke2ZvcmVncm91bmR9PC9jb2RlPiBvbiA8Y29kZT4ke2JhY2tncm91bmR9PC9jb2RlPmA7XG5cblx0aWYgKHJhdGlvID49IDcpIHtcblx0XHR3Y2FnUmF0aW5nID0gJ0FBQSc7XG5cdH0gZWxzZSBpZiAocmF0aW8gPj0gNC41KSB7XG5cdFx0d2NhZ1JhdGluZyA9ICdBQSc7XG5cdH0gZWxzZSBpZiAocmF0aW8gPj0gMykge1xuXHRcdHdjYWdSYXRpbmcgPSAnQUExOCc7XG5cdFx0bWVzc2FnZSA9IGBDYXV0aW9uOiBXaGVuIHVzaW5nIHRoaXMgY29tYmluYXRpb24sIHRleHQgc2hvdWxkIGJlIGxhcmdlciB0aGFuIDE4cHggdG8gcGFzcyBXQ0FHIGNvbG9yIGNvbnRyYXN0IGd1aWRlbGluZXMuYDtcblx0fSBlbHNlIHtcblx0XHR3Y2FnUmF0aW5nID0gJ0ZhaWwnO1xuXHRcdG1lc3NhZ2UgPSBgVGhpcyBjb21iaW5hdGlvbiBkb2VzIG5vdCBwYXNzIFdDQUcgY29sb3IgY29udHJhc3QgZ3VpZGVsaW5lcy5gO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRjb21iaW5hdGlvbixcblx0XHR3Y2FnUmF0aW5nLFxuXHRcdG1lc3NhZ2Vcblx0fTtcbn1cblxuXG5mdW5jdGlvbiBnZXRDb250cmFzdFJhdGlvKGZvcmVncm91bmQsIGJhY2tncm91bmQpIHtcblx0Y29uc3QgbDEgPSBvQ29sb3JzQ29sb3JMdW1pbmFuY2UoZm9yZWdyb3VuZCkgKyAwLjA1O1xuXHRjb25zdCBsMiA9IG9Db2xvcnNDb2xvckx1bWluYW5jZShiYWNrZ3JvdW5kKSArIDAuMDU7XG5cdGxldCByYXRpbyA9IGwxIC8gbDI7XG5cblx0aWYgKGwyID4gbDEpIHtcblx0XHRyYXRpbyA9IDEgLyByYXRpbztcblx0fVxuXG5cdHJhdGlvID0gcHJlY2lzZUZsb29yKHJhdGlvKTtcblx0cmV0dXJuIHJhdGlvO1xufVxuXG5mdW5jdGlvbiBwcmVjaXNlRmxvb3IobnVtYmVyLCBkZWNpbWFscyA9IDIpIHtcblx0Y29uc3QgbXVsdGlwbGllciA9IE1hdGgucG93KDEwLCBkZWNpbWFscyk7XG5cdHJldHVybiBNYXRoLmZsb29yKG51bWJlciAqIG11bHRpcGxpZXIpIC8gbXVsdGlwbGllcjtcbn1cblxuZnVuY3Rpb24gb0NvbG9yc0NvbG9yTHVtaW5hbmNlKGhleCkge1xuXHRoZXggPSBoZXgudHJpbSgpID09PSAnZ3JheScgPyAnIzgwODA4MCcgOiBoZXg7IC8vIGFuIGVxdWFsIG1peCBvZiBibGFjayBhbmQgd2hpdGUgd2lsbCBhbHdheXMgZGVmYXVsdCB0byAnZ3JheScgaW5zdGVhZCBvZiBhIGhleCB2YWx1ZVxuXHRjb25zdCBoZXhWYWx1ZSA9IGhleC5yZXBsYWNlKCcjJywgJycpLnRyaW0oKTtcblx0Y29uc3QgcmdiUGFpcnMgPSBoZXhWYWx1ZS5tYXRjaCgvLnsxLDJ9L2cpO1xuXG5cdGNvbnN0IGRlY2ltYWxzID0gcmdiUGFpcnMubWFwKHBhaXIgPT4ge1xuXHRcdHJldHVybiBwYXJzZUludChwYWlyLCAxNik7XG5cdH0pO1xuXG5cdGNvbnN0IGNvbG9ycyA9IHtcblx0XHQncmVkJzogZGVjaW1hbHNbMF0sXG5cdFx0J2dyZWVuJzogZGVjaW1hbHNbMV0sXG5cdFx0J2JsdWUnOiBkZWNpbWFsc1syXVxuXHR9O1xuXG5cdE9iamVjdC5rZXlzKGNvbG9ycykuZm9yRWFjaChjb2xvciA9PiB7XG5cdFx0Y29sb3JzW2NvbG9yXSA9IGNvbG9yc1tjb2xvcl0gLyAyNTU7XG5cblx0XHRpZiAoY29sb3JzW2NvbG9yXSA8IDAuMDM5MjgpIHtcblx0XHRcdGNvbG9yc1tjb2xvcl0gPSBjb2xvcnNbY29sb3JdIC8gMTIuOTI7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbG9yc1tjb2xvcl0gPSAoY29sb3JzW2NvbG9yXSArIDAuMDU1KSAvIDEuMDU1O1xuXHRcdFx0Y29sb3JzW2NvbG9yXSA9IE1hdGgucG93KGNvbG9yc1tjb2xvcl0sIDIuNCk7XG5cdFx0fVxuXG5cdH0pO1xuXHRyZXR1cm4gY29sb3JzWydyZWQnXSAqIDAuMjEyNiArIGNvbG9yc1snZ3JlZW4nXSAqIDAuNzE1MiArIGNvbG9yc1snYmx1ZSddICogMC4wNzIyO1xufVxuXG5leHBvcnQge1xuXHRnZXRXQ0FHUmF0aW5nLFxuXHRnZXRDb250cmFzdFJhdGlvXG59O1xuIiwiY29uc3QgZ2V0SGV4VmFsdWVzID0gKG1peGVyLCBiYXNlKSA9PiB7XG5cdGNvbnN0IHJvb3QgPSBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG5cdHJldHVybiB7XG5cdFx0bWl4ZXI6IHJvb3QuZ2V0UHJvcGVydHlWYWx1ZShgLS1vLWNvbG9ycy0ke21peGVyfWApLnJlcGxhY2UoL15cXHMqIy8sICcnKSxcblx0XHRiYXNlOiByb290LmdldFByb3BlcnR5VmFsdWUoYC0tby1jb2xvcnMtJHtiYXNlfWApLnJlcGxhY2UoL15cXHMqIy8sICcnKVxuXHR9O1xufTtcblxuY29uc3QgZXhwYW5kSGV4VmFsdWVzID0gKHZhbHVlKSA9PiB7XG5cdC8vIFRoZSB0aHJlZS1kaWdpdCBub3RhdGlvbiAoI1JHQikgaXMgYSBzaG9ydGVyIHZlcnNpb24gb2YgdGhlIHNpeC1kaWdpdCBmb3JtICgjUlJHR0JCKS5cblx0Ly8gRm9yIGV4YW1wbGUsICNmMDkgaXMgdGhlIHNhbWUgY29sb3IgYXMgI2ZmMDA5OS5cblx0Ly8gTGlrZXdpc2UsIHRoZSBmb3VyLWRpZ2l0IFJHQiBub3RhdGlvbiAoI1JHQkEpIGlzIGEgc2hvcnRlciB2ZXJzaW9uIG9mIHRoZSBlaWdodC1kaWdpdCBmb3JtICgjUlJHR0JCQUEpLlxuXHRpZiAodmFsdWUubGVuZ3RoID09PSAzIHx8IHZhbHVlLmxlbmd0aCA9PT0gNCkge1xuXHRcdHJldHVybiB2YWx1ZS5zcGxpdCgnJykubWFwKGNoYXJhY3RlciA9PiB7XG5cdFx0XHRyZXR1cm4gY2hhcmFjdGVyICsgY2hhcmFjdGVyO1xuXHRcdH0pLmpvaW4oJycpO1xuXHR9XG5cdHJldHVybiB2YWx1ZTtcbn07XG5cbmNvbnN0IG1peEhleGVzID0gKG1peGVyLCBiYXNlKSA9PiB7XG5cdGNvbnN0IGZ1bGxNaXhlciA9IGV4cGFuZEhleFZhbHVlcyhtaXhlcik7XG5cdGNvbnN0IGZ1bGxCYXNlID0gZXhwYW5kSGV4VmFsdWVzKGJhc2UpO1xuXHRjb25zdCByYWRpeCA9IDE2O1xuXHRjb25zdCBkZWNpbWFsVG9IZXggPSBkZWNpbWFsID0+IGRlY2ltYWwudG9TdHJpbmcocmFkaXgpO1xuXHRjb25zdCBoZXhUb0RlY2ltYWwgPSBoZXggPT4gcGFyc2VJbnQoaGV4LCByYWRpeCk7XG5cblx0Y29uc3QgcGVyY2VudGFnZXMgPSBbMCwgMTAsIDIwLCAzMCwgNDAsIDUwLCA2MCwgNzAsIDgwLCA5MCwgMTAwXTtcblxuXHRyZXR1cm4gcGVyY2VudGFnZXMubWFwKHBlcmNlbnQgPT4ge1xuXG5cdFx0bGV0IGhleFZhbHVlID0gXCIjXCI7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8PSA1OyBpICs9IDIpIHtcblx0XHRcdGNvbnN0IG1peFBhaXIgPSBoZXhUb0RlY2ltYWwoZnVsbE1peGVyLnN1YnN0cihpLCAyKSk7IC8vIGV4dHJhY3QgciwgZywgYiBwYWlycyBmb3IgbWl4ZXIgY29sb3Jcblx0XHRcdGNvbnN0IGJhc2VQYWlyID0gaGV4VG9EZWNpbWFsKGZ1bGxCYXNlLnN1YnN0cihpLCAyKSk7IC8vIGV4dHJhY3QgciwgZywgYiBwYWlycyBmb3IgYmFzZSBjb2xvclxuXG5cdFx0XHQvLyBjb21iaW5lIHRoZSByL2cvYiBwYWlycyBmcm9tIGVhY2ggY29sb3IsIGJhc2VkIG9uIHBlcmNlbnRhZ2Vcblx0XHRcdGxldCBjb21iaW5lZFBhaXIgPSBkZWNpbWFsVG9IZXgoTWF0aC5yb3VuZChiYXNlUGFpciArIChtaXhQYWlyIC0gYmFzZVBhaXIpICogKHBlcmNlbnQgLyAxMDAuMCkpKTtcblxuXHRcdFx0d2hpbGUgKGNvbWJpbmVkUGFpci5sZW5ndGggPCAyKSB7IGNvbWJpbmVkUGFpciA9IGAwJHtjb21iaW5lZFBhaXJ9YDsgfS8vIHByZXBlbmQgYSAnMCcgaWYgY29tYmluZWRQYWlyIHJlc3VsdHMgaW4gYSBzaW5nbGUgZGlnaXRcblxuXHRcdFx0aGV4VmFsdWUgKz0gY29tYmluZWRQYWlyOyAvL2FkZCBuZXcgcGFpciB0byBoZXggc3RyaW5nXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhleFZhbHVlO1xuXHR9KTtcbn07XG5cbmV4cG9ydCB7XG5cdGdldEhleFZhbHVlcyxcblx0bWl4SGV4ZXMsXG5cdGV4cGFuZEhleFZhbHVlc1xufTtcbiIsImltcG9ydCB7IGdldENvbnRyYXN0UmF0aW8sIGdldFdDQUdSYXRpbmcgfSBmcm9tICcuLi9zaGFyZWQvY29udHJhc3QtcmF0aW8uanMnO1xuaW1wb3J0IHsgZ2V0SGV4VmFsdWVzLCBtaXhIZXhlcywgZXhwYW5kSGV4VmFsdWVzIH0gZnJvbSAnLi4vc2hhcmVkL2NvbG9ycy1taXguanMnO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuXHRjb25zdCBmb3JtID0gZG9jdW1lbnQuZm9ybXNbMF07XG5cdGNvbnN0IGZvcmVncm91bmQgPSBmb3JtWydmb3JlZ3JvdW5kJ107XG5cdGNvbnN0IGJhY2tncm91bmQgPSBmb3JtWydiYWNrZ3JvdW5kJ107XG5cdGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuXHRcdHNob3dDb250cmFzdFJhdGlvKGZvcmVncm91bmQsIGJhY2tncm91bmQpO1xuXHR9KTtcblxuXHRzaG93Q29udHJhc3RSYXRpbyhmb3JlZ3JvdW5kLCBiYWNrZ3JvdW5kKTtcblxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudHJpZ2dlci1pbnB1dCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdE9yaWdhbWlbJ28tb3ZlcmxheSddLmdldE92ZXJsYXlzKClbJ21peGVyLW92ZXJsYXknXS5vcGVuKCk7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXHR9KTtcbn0pO1xuXG5mdW5jdGlvbiBzaG93Q29udHJhc3RSYXRpbyh0ZXh0LCBiYWNrZ3JvdW5kKSB7XG5cdGNvbnN0IHRleHRIZXggPSBleHBhbmRIZXhWYWx1ZXMoY2hhbmdlQ29sb3IodGV4dC52YWx1ZSwgJ2ZvcmVncm91bmQnKSk7XG5cdGNvbnN0IGJhY2tncm91bmRIZXggPSBleHBhbmRIZXhWYWx1ZXMoY2hhbmdlQ29sb3IoYmFja2dyb3VuZC52YWx1ZSwgJ2JhY2tncm91bmQnKSk7XG5cblx0Y29uc3QgcmF0aW8gPSBnZXRDb250cmFzdFJhdGlvKHRleHRIZXgsIGJhY2tncm91bmRIZXgpO1xuXHRjb25zdCByYXRpbmcgPSBnZXRXQ0FHUmF0aW5nKHJhdGlvLCB0ZXh0LnZhbHVlLCBiYWNrZ3JvdW5kLnZhbHVlKTtcblxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29tYmluYXRpb24nKS5pbm5lckhUTUwgPSByYXRpbmcuY29tYmluYXRpb247XG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250cmFzdC1yYXRpbycpLmlubmVySFRNTCA9IGBDb250cmFzdCByYXRpbzogPHN0cm9uZz4ke3JhdGlvfTwvc3Ryb25nPmA7XG5cblx0Y29uc3QgcmF0aW5nTWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yYXRpbmctbWVzc2FnZScpO1xuXHRyYXRpbmdNZXNzYWdlLmNsYXNzTmFtZSA9IGByYXRpbmctbWVzc2FnZSByYXRpbmctcmVzdWx0LS0ke3JhdGluZy53Y2FnUmF0aW5nLnRvTG93ZXJDYXNlKCl9YDtcblx0cmF0aW5nTWVzc2FnZS5pbm5lckhUTUwgPSByYXRpbmcubWVzc2FnZTtcblxuXHRjb25zdCB3Y2FnUmF0aW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndjYWctcmF0aW5nJyk7XG5cdHdjYWdSYXRpbmcuY2xhc3NOYW1lID0gYHdjYWctcmF0aW5nIHJhdGluZy1yZXN1bHQtLSR7cmF0aW5nLndjYWdSYXRpbmcudG9Mb3dlckNhc2UoKX1gO1xuXHR3Y2FnUmF0aW5nLnRleHRDb250ZW50ID0gYFdDQUcgJHtyYXRpbmcud2NhZ1JhdGluZ31gO1xufVxuXG5mdW5jdGlvbiBjaGFuZ2VDb2xvcihjb2xvck5hbWUsIHByb3BlcnR5KSB7XG5cdGNvbnN0IHJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdGxldCBoZXhWYWx1ZSA9IGdldENvbXB1dGVkU3R5bGUocm9vdCkuZ2V0UHJvcGVydHlWYWx1ZShgLS1vLWNvbG9ycy0ke2NvbG9yTmFtZX1gKTtcblxuXHRpZiAoaGV4VmFsdWUubGVuZ3RoIDw9IDApIHsgaGV4VmFsdWUgPSBjb2xvck5hbWU7IH1cblxuXHRyb290LnN0eWxlLnNldFByb3BlcnR5KGAtLSR7cHJvcGVydHl9YCwgaGV4VmFsdWUpO1xuXHRyZXR1cm4gaGV4VmFsdWUucmVwbGFjZSgnIycsICcnKS50cmltKCk7XG59XG5cbmxldCBldmVudHNBZGRlZCA9IGZhbHNlO1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignb092ZXJsYXkucmVhZHknLCAoKSA9PiB7XG5cdGdlbmVyYXRlUmFuZ2UoKTtcblxuXHRkb2N1bWVudC5mb3Jtc1swXVsnb3ZlcmxheS1maWVsZHNldCddLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGdlbmVyYXRlUmFuZ2UpO1xuXG5cdGlmICghZXZlbnRzQWRkZWQpIHtcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLW1peCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0Y29uc3QgcmFuZ2UgPSBkb2N1bWVudC5mb3Jtc1swXVsncmFuZ2UnXTtcblx0XHRcdGFkZE1peGVkU3dhdGNoKCdmb3JlZ3JvdW5kJywgcmFuZ2UudmFsdWUpO1xuXHRcdFx0YWRkTWl4ZWRTd2F0Y2goJ2JhY2tncm91bmQnLCByYW5nZS52YWx1ZSk7XG5cdFx0fSk7XG5cblx0XHRldmVudHNBZGRlZCA9IHRydWU7XG5cdH1cbn0pO1xuXG5jb25zdCBnZW5lcmF0ZVJhbmdlID0gKCkgPT4ge1xuXHRjb25zdCBmb3JtID0gZG9jdW1lbnQuZm9ybXNbMF07XG5cdGNvbnN0IGhleGVzID0gZ2V0SGV4VmFsdWVzKGZvcm1bJ21peGVyJ10udmFsdWUsIGZvcm1bJ2Jhc2UnXS52YWx1ZSk7XG5cblx0Y29uc3QgaGV4QXJyYXkgPSBtaXhIZXhlcyhoZXhlcy5taXhlciwgaGV4ZXMuYmFzZSk7XG5cdGNvbnN0IHJhbmdlID0gZm9ybVsncmFuZ2UnXTtcblxuXHRoZXhBcnJheS5mb3JFYWNoKChoZXgsIGluZGV4KSA9PiB7XG5cdFx0Y29uc3QgaW5wdXQgPSByYW5nZVtpbmRleF07XG5cdFx0aW5wdXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gaGV4O1xuXHRcdGlucHV0LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBoZXgpO1xuXHR9KTtcbn07XG5cbmNvbnN0IGFkZE1peGVkU3dhdGNoID0gKHBhbmVsTmFtZSwgY29sb3IpID0+IHtcblx0Y29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuXHRsYWJlbC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgY29sb3IpO1xuXG5cdGxhYmVsLmlubmVySFRNTCA9IGBcblx0XHQ8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cIiR7cGFuZWxOYW1lfVwiIHZhbHVlPVwiJHtjb2xvcn1cIiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6ICR7Y29sb3J9O1wiLz5cblx0YDtcblxuXHRkb2N1bWVudC5mb3Jtc1swXVtwYW5lbE5hbWVdWzBdLmFwcGVuZENoaWxkKGxhYmVsKTtcbn07XG4iXX0=