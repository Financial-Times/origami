////
/// @group Common
////

/// @access public
/// @output Styles for the main o-forms/fieldset group which contains a label/input.
@mixin oFormsGroup {
	position: relative;
	max-width: $_o-forms-field-max-width;
	margin: 0 0 $_o-forms-group-spacing; // Reset top and side margins for fieldset usage
	// reset <fieldset> defaults
	padding: 0;
	border: 0;

	// sass-lint:disable mixins-before-declarations
	@include oGridRespondTo(S) {
		padding-right: $_o-forms-padding;
		padding-left: $_o-forms-padding;
	}
	// sass-lint:enable mixins-before-declarations
}

/// @access public
/// @output Basic styles shared between input, textarea, select etc.
@mixin oFormsCommonFieldBase {
	@include oColorsFor(o-forms-field-standard);
	@include oTypographySize($_o-forms-typography-scale-regular);
	margin-top: $_o-forms-spacing;
	box-sizing: border-box;
	width: 100%;
	max-width: $_o-forms-field-max-width;
	padding: $_o-forms-field-default-padding-top $_o-forms-field-default-padding-leftright $_o-forms-field-default-padding-bottom;
	border: $_o-forms-field-border;
	border-radius: $_o-forms-field-border-radius;
	background-clip: padding-box;
	font-family: $o-forms-font-family;
	outline: none;
	transition: 0.15s box-shadow ease-in;
	appearance: none;

	&:focus {
		@include oFormsCommonFieldFocus;
	}

	&:disabled {
		@include oFormsCommonFieldDisabled;
	}

	&::placeholder {
		@include oColorsFor(o-forms-field-placholder);
	}
}

/// @access public
/// @output Shared focus state styles.
@mixin oFormsCommonFieldFocus {
	@include oColorsFor(o-forms-field-focus);
	box-shadow: 0 0 0 2px $o-normalise-focus-color;
}

/// @access public
/// @output Shared disabled state styles.
@mixin oFormsCommonFieldDisabled {
	@include oColorsFor(o-forms-field-disabled);
	cursor: default;
}

/// @access public
/// @output Shared invalid state styles.
@mixin oFormsCommonFieldInvalid {
	@include oColorsFor(o-forms-field-invalid);

	&:focus {
		box-shadow: 0 0 0 2px oColorsGetColorFor(o-forms-field-invalid, border);
	}
}

/// @access public
/// @output Shared valid state styles.
@mixin oFormsCommonFieldValid {
	@include oColorsFor(o-forms-field-valid);
	background-color: rgba(oColorsGetColorFor(o-forms-field-valid, background), 0.05);
}

/// @access public
/// @output Shared styles to make an input smaller, e.g select or text.
@mixin oFormsCommonSmall {
	padding-top: 0;
	padding-bottom: 0;
	background-size: $_o-forms-select-small-iconsize $_o-forms-select-small-iconsize;
	background-position-x: 99%; // Make the smaller icon size visually match the padding on the left of the input
	line-height: $_o-forms-field-small-height - ($_o-forms-field-border-width * 2);
}
