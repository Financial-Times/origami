// Base cookie message styles
@mixin _oCookieMessageBase() {
	.o-cookie-message {
		position: fixed;
		bottom: 0;
		left: 0;
		display: block;
		width: 100%;
		margin: 0;

		@include oGridRespondTo(S) {
			width: oGridColspan(7);
			margin: $_o-cookie-message-spacing / 2;
		}

		@include oGridRespondTo(M) {
			width: oGridColspan(6);
		}

		@include oGridRespondTo(L) {
			width: oGridColspan(5);
		}

		@include oGridRespondTo(XL) {
			width: map-get($o-grid-layouts, XL) / 2.5; // width is 40% grid
			left: calc((100vw - #{map-get($o-grid-layouts, XL)}) / 2); // ((viewport - grid width) / 2)
		}
	}

	.o-cookie-message--active {
		display: block;
	}

	.o-cookie-message--closed {
		display: none;
	}

	.o-cookie-message__outer {
		background: oColorsGetPaletteColor('white');
		color: oColorsGetPaletteColor('black');
		@include oVisualEffectsShadowsElevation('high');
	}

	.o-cookie-message__inner {
		@include oTypographySans($scale: 2);
		// sass-lint:disable no-vendor-prefixes
		-webkit-font-smoothing: antialiased;
		// sass-lint:enable no-vendor-prefixes
		position: relative;
		display: flex;
		align-items: center;
		justify-content: space-between;
		max-width: map-get($o-grid-layouts, XL);
		margin: 0 auto;
		padding: $_o-cookie-message-spacing 0;
		box-sizing: border-box;

		@include oGridRespondTo($until: S) {
			@include oTypographySans($scale: 0);
			display: block;
			padding: $_o-cookie-message-spacing;
			padding-top: oSpacingByIncrement(7);
		}

		background: white;

		@include oVisualEffectsShadowsElevation('high');
		@include oTypographySans($scale: 0);
		display: block;
		padding: $_o-cookie-message-spacing;
		padding-top: oSpacingByIncrement(7);
		max-width: none;
	}

	.o-cookie-message__content {
		padding: 0;

		p {
			margin-top: 0;
			margin-bottom: 0;
		}

		h1 {
			@include oTypographySans($scale: 0);
		}

		@include oGridRespondTo($until: M) {
			&,
			h1 {
				@include oTypographySans($scale: 0);
			}
		}
	}

	.o-cookie-message__actions {
		@include oTypographySans($scale: 2);
		display: flex;
		align-items: center;
		margin-top: oSpacingByName('s6');
		flex-direction: row-reverse;
		justify-content: space-between;

		@include oGridRespondTo($until: M) {
			flex-direction: column-reverse;
			align-items: flex-start;
			margin-top: 0;
			.o-cookie-message__action {
				align-self: stretch;

				.o-cookie-message__button {
					width: 100%;
					margin-top: oSpacingByName('s6');
				}
			}
		}
	}

	.o-cookie-message__action {
		padding: 0;
	}

	.o-cookie-message__button {
		@include oButtons(
			$size: 'big',
			$theme: 'primary'
		);
		white-space: nowrap;
	}
}

// Standard cookie message styles (for master brand e.g. FT.com)
@mixin _oCookieMessageStandard() {
	.o-cookie-message {
		.o-cookie-message__heading {
			h1 {
				margin-bottom: 0;
				@include oTypographySans($scale: 3);
				@include oTypographyBold($font: 'sans');
			}
			&:after {
				content: '';
				display: block;
				width: 100px;
				margin-top: oSpacingByName('s2');
				margin-bottom: oSpacingByName('s4');

				border-bottom: oSpacingByIncrement(2) solid;
				border-color: oColorsGetPaletteColor('teal');
			}

			@include oTypographySans($scale: 3);
			padding-right: $_o-cookie-message-spacing;

			@include oGridRespondTo($until: M) {
				&,
				h1 {
					@include oTypographySans($scale: 2);
				}
			}
			&:after {
				margin-top: oSpacingByName('s2');
				margin-bottom: oSpacingByName('s3');
				width: 60px;
				border-bottom-width: oSpacingByIncrement(1);
			}
		}

		.o-cookie-message__action--secondary {
			@include oGridRespondTo($until: M) {
				margin-top: $_o-cookie-message-spacing / 4;
			}
		}

		.o-cookie-message__link {
			@include oTypographyLinkCustom(
				$baseColor: 'teal',
				$hoverColor: 'teal',
				$outlineColor: 'teal',
				$backgroundColor: 'white'
			);
			@include oTypographySans($scale: 0);
			white-space: nowrap;
		}

		.o-cookie-message__link--external {
			@include oTypographyLinkExternalIcon(oColorsGetColorFor('link', 'text'));
		}

		.o-cookie-message__link--external,
		.o-cookie-message__link {
			@include oTypographyLinkCustom(
				$baseColor: 'teal',
				$hoverColor: 'teal',
				$outlineColor: 'teal',
				$backgroundColor: 'white'
			);
		}
	}
}


// Alternative cookie message styles (for whitelabel/specialist titles)
@mixin _oCookieMessageAlternative() {
	.o-cookie-message.o-cookie-message--alternative {
		.o-cookie-message__button {
			//TODO: revisit argument names in o-buttons
			@include oButtonsTheme((
				accent: oColorsGetUseCase(o-cookie-message-alternative-button, background),
				background: oColorsGetUseCase(o-cookie-message-alternative-button, text),
				hover: oColorsGetUseCase(o-cookie-message-alternative-button, hover),
				colorizer: primary
			));
		}

		.o-cookie-message__heading:after {
			border-color: oColorsGetColorFor('o-cookie-message-alternative', 'border');
		}

		.o-cookie-message__link--external {
			@include oTypographyLinkExternalIcon(oColorsGetColorFor('o-cookie-message-alternative-link', 'text'));
		}

		.o-cookie-message__link--external,
		.o-cookie-message__link {
			@include oTypographyLinkCustom(
				$baseColor: oColorsGetUseCase('o-cookie-message-alternative-link', 'text'),
				$hoverColor: oColorsGetUseCase('o-cookie-message-alternative-link', 'text'),
				$outlineColor: oColorsGetUseCase('o-cookie-message-alternative-link', 'text'),
				$backgroundColor: oColorsGetUseCase('o-cookie-message-alternative-link', 'background')
			);
		}
	}
}
