@import 'o-spacing/main';
@import 'o-buttons/main';
@import 'o-colors/main';
@import 'o-grid/main';
@import "o-icons/main";
@import "o-typography/main";
@import "o-visual-effects/main";

@import "src/scss/color-use-cases";
@import "src/scss/variables";
@import "src/scss/mixins";

@import "src/scss/themes/marketing";
@import "src/scss/themes/product";
@import "src/scss/themes/small";
@import "src/scss/themes/compact";

/// Output `o-banner` CSS.
///
/// @example Output all `o-banner` styles.
///     @include oBanner();
///
/// @example Output only the small theme
///     @include oColors($opts: (
///     	'themes': ('small')
///     ));
///
/// @param {Map} $opts - The o-banners features to output. See the [readme](https://registry.origami.ft.com/components/o-banner) for a full list of options.
@mixin oBanner($opts: (
	themes: $_o-banner-themes
)) {

	$themes: map-get($opts, 'themes');

	// Base banner styles
	.o-banner {
		@include _oBannerBase;

		&--closed {
			@include _oBannerClosed;
		}

		&__outer {
			@include _oBannerOuter;
		}
		&__inner {
			@include _oBannerInner;
		}
		&__content {
			@include _oBannerContent;
		}
		&__content--long {
			@include _oBannerContentLong;
		}
		&__content--short {
			@include _oBannerContentShort;
		}
		&__heading {
			@include _oBannerHeading;
		}
		&__actions {
			@include _oBannerActions;
		}
		&__action {
			@include _oBannerAction;
		}
		&__action--secondary {
			@include _oBannerActionSecondary;
		}
		&__button {
			@include _oBannerButton;
		}
		&__link {
			@include _oBannerLink;
		}
		&__close {
			@include _oBannerCloseButton;
		}
	}

	// Theme styles
	@if $themes != false  {
		@each $theme in $themes {
			@if index($_o-banner-themes, $theme) != null {
				@include _oBannerGetThemeMixin($theme);
			} @else {
				@error "There is no theme '#{$theme}' available in o-banner, please use one of the following: #{$_o-banner-themes}.";
			}
		}
	}
}

@if ($o-banner-is-silent == false) {
	@include oBanner;

	// Set to silent again to avoid being output twice
	$o-banner-is-silent: true !global;
}
