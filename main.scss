@import 'o-spacing/main';
@import 'o-grid/main';
@import 'o-fonts/main';
@import 'o-colors/main';
@import 'o-icons/main';
@import 'o-normalise/main';

@import 'src/scss/brand';
@import 'src/scss/variables';
@import 'src/scss/functions';
@import 'src/scss/mixins';
@import 'src/scss/use-cases/general';
@import 'src/scss/use-cases/wrapper';

/// Output all default typography styles.
@mixin oTypography($opts: (
	'headings',
	'wrapper',
	'body',
	'links',
	'lists',
	'caption',
	'footer',
	'utilities',
)) {
	$wrapper-enabled: index($opts, 'wrapper');
	$headings-enabled: index($opts, 'headings');
	$body-enabled: index($opts, 'body');
	$links-enabled: index($opts, 'links');
	$lists-enabled: index($opts, 'lists');
	$caption-enabled: index($opts, 'caption');
	$footer-enabled: index($opts, 'footer');
	$utilities-enabled: index($opts, 'utilities');

	// Load fonts within the primary mixin in-case silent mode is on.
	@if $o-typography-load-fonts == true {
		@include oFonts();
		// Set to false so fonts are not output twice by o-typography.
		$o-typography-load-fonts: false !global;
	}

	// Headings
	@if $headings-enabled {
		.o-typography-heading-level-1 {
			@include oTypographyHeading($level: 1);
		}

		.o-typography-heading-level-2 {
			@include oTypographyHeading($level: 2);
		}

		.o-typography-heading-level-3 {
			@include oTypographyHeading($level: 3);
		}

		.o-typography-heading-level-4 {
			@include oTypographyHeading($level: 4);
		}

		.o-typography-heading-level-5 {
			@include oTypographyHeading($level: 5);
		}
	}

	// Body, Links, Lists, etc.
	@if $utilities-enabled {
		.o-typography-bold {
			@include oTypographySans (
				$weight: 'semibold',
				$include-font-family: false
			);
		}

		.o-typography-italic {
			font-style: italic;
		}

		.o-typography-sup {
			@include oTypographySuper;
		}

		.o-typography-sub {
			@include oTypographySub;
		}
	}

	@if $body-enabled {
		.o-typography-body {
			@include oTypographyBody;
		}
	}

	@if $links-enabled {
		.o-typography-link {
			@include oTypographyLink;
		}

		.o-typography-link--external {
			@include oTypographyLink(
				$external: true,
				$include-base-styles: false
			);
		}
	}

	@if $caption-enabled {
		.o-typography-caption {
			@include oTypographyCaption;
		}
	}

	@if $lists-enabled {
		.o-typography-list {
			// Output base styles shared by all list types.
			@include oTypographyList();
		}

		.o-typography-list--ordered {
			// Output list styles unique to an ordered list.
			@include oTypographyList($type: 'ordered', $include-base-styles: false);
		}

		.o-typography-list--unordered {
			// Output list styles unique to an unordered list.
			@include oTypographyList($type: 'unordered', $include-base-styles: false);
		}
	}

	@if $footer-enabled {
		.o-typography-footer {
			@include oTypographyFooter;
		}
	}

	// Wrapper
	@if $wrapper-enabled {
		.o-typography-wrapper {
			@include _oTypographyWrapper;
		}
	}
}

// So the build service can output all typography styles.
@if $o-typography-is-silent == false {
	// Load fonts outside the primary mixin as they may be
	// required by other mixins. But set to false so fonts
	// are not output twice by o-typography.
	@if $o-typography-load-fonts == true {
		@include oFonts();
		$o-typography-load-fonts: false !global;
	}

	@include oTypography();
	// Don't output twice
	$o-typography-is-silent: true !global;
}
