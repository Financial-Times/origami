---
import SecondaryNav from "./SecondaryNav.astro"
import NavItem from "./NavItem.astro"

const currentPage = Astro.url.pathname

const primaryNav = [
	{
		label: "Home",
		url: "/",
		"aria-current": currentPage === "/" ? "page" : undefined,
	},
	{
		label: "Documentation",
		url: "/documentation",
		"aria-current": currentPage === "/documentation" ? "page" : undefined,
	},
	{
		label: "Registry",
		url: "https://registry.origami.ft.com/components",
	},
	{
		label: "Storybook",
		url: "/storybook",
		"aria-current": currentPage === "/storybook" ? "page" : undefined,
	},
	{
		label: "Blog",
		url: "/blog",
		"aria-current": currentPage === "/blog" ? "page" : undefined,
	},
]
---

<style lang="scss" is:global>
	@import "@financial-times/o-header-services/main";
	@include oHeaderServices(
		$opts: (
			"types": (
				"primary-nav",
				"secondary-nav",
				"bleed",
			),
			"logo": "ftlogo-v1:origami",
		)
	);
</style>

<script>
	import oHeaderServices from "@financial-times/o-header-services/main.js"

	oHeaderServices.init(null)
</script>

<header class="o-header-services" data-o-component="o-header-services">
	<div class="o-header-services__top">
		<div class="o-header-services__hamburger">
			<a class="o-header-services__hamburger-icon" href="#" role="button">
				<span class="o-header-services__visually-hidden"
					>Open primary navigation</span
				>
			</a>
		</div>
		<a href="/" class="o-header-services__logo"
			><span class="o-header-services__visually-hidden">To homepage</span></a
		>
		<div class="o-header-services__title">
			<a class="o-header-services__product-name" href="/">Origami</a>
			<span class="o-header-services__product-tagline"
				>Frontend Components &amp; Services</span
			>
		</div>
	</div>

	<nav class="o-header-services__primary-nav" aria-label="primary">
		<ul class="o-header-services__primary-nav-list">
			{primaryNav.map(nav => <NavItem nav={nav} />)}
		</ul>
	</nav>

	<SecondaryNav />
</header>
