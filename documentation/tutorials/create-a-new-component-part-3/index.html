<!DOCTYPE html><html lang="en-GB" class="core o-typography--loading-sans o-typography--loading-sans-bold o-typography--loading-display o-typography--loading-display-bold" data-o-component="o-typography"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Create A New Origami Component - Part 3 Themes &amp; Brands</title><meta name="description" content="A step-by-step tutorial which teaches you how to build and deploy a new Origami component."><!-- Cuts the mustard test --><!-- Favicons --><link rel="icon" type="image/svg+xml" href="https://www.ft.com/__origami/service/image/v2/images/raw/ftlogo-v1%3Aorigami?source=origami-docs&format=svg" sizes="any"><link rel="alternate icon" type="image/png" href="https://www.ft.com/__origami/service/image/v2/images/raw/ftlogo-v1%3Aorigami?source=origami-docs&width=16&height=16&format=png" sizes="16x16"><link rel="alternate icon" type="image/png" href="https://www.ft.com/__origami/service/image/v2/images/raw/ftlogo-v1%3Aorigami?source=origami-docs&width=32&height=32&format=png" sizes="32x32"><link rel="alternate icon" type="image/png" href="https://www.ft.com/__origami/service/image/v2/images/raw/ftlogo-v1%3Aorigami?source=origami-docs&width=96&height=96&format=png" sizes="96x96"><link rel="alternate icon" type="image/png" href="https://www.ft.com/__origami/service/image/v2/images/raw/ftlogo-v1%3Aorigami?source=origami-docs&width=128&height=128&format=png" sizes="128x128"><link rel="alternate icon" type="image/png" href="https://www.ft.com/__origami/service/image/v2/images/raw/ftlogo-v1%3Aorigami?source=origami-docs&width=196&height=196&format=png" sizes="196x196"><link rel="alternate icon" type="image/png" href="https://www.ft.com/__origami/service/image/v2/images/raw/ftlogo-v1%3Aorigami?source=origami-docs&width=310&height=310&format=png" sizes="310x310"><!-- Site links --><link rel="sitemap" type="application/xml" href="/sitemap-index.xml" title="Sitemap"><link rel="canonical" href="https://origami.ft.com/documentation/tutorials/create-a-new-component-part-3/"><!-- Progressive Font Loading --><!-- https://github.com/Financial-Times/o-typography/tree/v6.1.3#setup-progressive-loading --><!-- Styles --><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="https://www.ft.com/__origami/service/build/v3/bundles/css?components=o-layout@^5.3.2,o-typography@^7.4.1,o-normalise@^3.3.1,o-header-services@^5.3.4,o-footer-services@^4.2.6,o-message@^5.4.2,o-table@^9.3.1,o-autoinit@^3.1.3,o-forms@^9.11.2,o-tracking@^4.5.0,o-colors@^6.6.2,o-spacing@^3.2.3&#38;brand=internal&#38;system_code=origami-website"><!-- JS --><script defer src="https://www.ft.com/__origami/service/build/v3/bundles/js?components=o-layout@^5.3.2,o-typography@^7.4.1,o-normalise@^3.3.1,o-header-services@^5.3.4,o-footer-services@^4.2.6,o-message@^5.4.2,o-table@^9.3.1,o-autoinit@^3.1.3,o-forms@^9.11.2,o-tracking@^4.5.0&#38;system_code=origami-website"></script><script defer src="/assets/tracking.js"></script><link rel="stylesheet" href="/_astro/404.93bfcc51.css" />
<link rel="stylesheet" href="/_astro/RacingBars.0a6fad8c.css" /><script type="module">var o=document.querySelector("html");if(/(^|\s)o-typography-fonts-loaded=1(;|$)/.test(document.cookie))for(var a=["sans","sans-bold","display","display-bold"],e=0;e<a.length;e++)o.className=o.className.replace("o-typography--loading-"+a[e],"");var t="querySelector"in document&&"localStorage"in window&&"addEventListener"in window;t&&(document.documentElement.className=document.documentElement.className.replace(/\bcore\b/g,"enhanced"));
</script></head><body><div class="o-layout o-layout--docs" data-o-component="o-layout"><div class="o-layout__header"><header class="o-header-services" data-o-component="o-header-services"><div class="o-header-services__top"><div class="o-header-services__hamburger"><a class="o-header-services__hamburger-icon" href="#" role="button"><span class="o-header-services__visually-hidden">Open primary navigation</span></a></div><a href="/" class="o-header-services__logo"><span class="o-header-services__visually-hidden">To homepage</span></a><div class="o-header-services__title"><a class="o-header-services__product-name" href="/">Origami</a><span class="o-header-services__product-tagline">Frontend Components &amp; Services</span></div></div><nav class="o-header-services__primary-nav" aria-label="primary"><ul class="o-header-services__primary-nav-list"><li><a href="/">Home</a></li><li><a href="/documentation/">Documentation</a></li><li><a href="/storybook/">Storybook</a></li><li><a href="/blog/">Blog</a></li></ul></nav><nav class="o-header-services__secondary-nav" aria-label="secondary" data-o-header-services-nav=""><div class="o-header-services__secondary-nav-content" data-o-header-services-nav-list=""><ol class="o-header-services__secondary-nav-list o-header-services__secondary-nav-list--ancestors" aria-label="Ancestor sections"><li><a href="/documentation/">Documentation</a></li><li><a href="/documentation/tutorials/">Tutorials</a></li></ol><ul class="o-header-services__secondary-nav-list o-header-services__secondary-nav-list--children" aria-label="Child sections"></ul></div><button class="o-header-services__scroll-button o-header-services__scroll-button--left" title="scroll left" aria-hidden="true" disabled></button><button class="o-header-services__scroll-button o-header-services__scroll-button--right" title="scroll right" aria-hidden="true" disabled></button></nav></header><div id="decomission-warning" class="o-message o-message--notice o-message--warning" data-o-component="o-message" data-o-message-close="false"><div class="o-message__container"><div class="o-message__content"><p class="o-message__content-main"><span class="o-message__content-highlight">The Origami Registry is being decommissioned</span><span>&nbsp;by the end of March 2024 and replaced with <a href="https://origami.ft.com/storybook/">Storybook</a>. For more information please read our <a href="https://origami.ft.com/blog/2024/02/12/newsletter/#goodbye-registry">blog post</a>.</span></p><p class="o-message__content-additional">
Please share any feedback in our #origami-chat Slack channel.
</p></div></div></div></div><div class="o-layout__sidebar"></div><div class="o-layout__main o-layout-typography"><h1 id="create-a-new-origami-component---part-3-themes--brands">Create A New Origami Component - Part 3 Themes &#x26; Brands</h1>
<p>The “Create A New Origami Component” tutorial is split into nine parts and is intended to be followed sequentially from start to finish:</p>
<ol>
<li><a href="/documentation/tutorials/create-a-new-component-part-1/">Intro &#x26; Boilerplate</a></li>
<li><a href="/documentation/tutorials/create-a-new-component-part-2/">Base Styles</a></li>
<li>Themes &#x26; Brands</li>
<li><a href="/documentation/tutorials/create-a-new-component-part-4/">Demos</a></li>
<li><a href="/documentation/tutorials/create-a-new-component-part-5/">JavaScript</a></li>
<li><a href="/documentation/tutorials/create-a-new-component-part-6/">Storybook</a></li>
<li><a href="/documentation/tutorials/create-a-new-component-part-7/">Testing</a></li>
<li><a href="/documentation/tutorials/create-a-new-component-part-8/">Documentation</a></li>
<li><a href="/documentation/tutorials/create-a-new-component-part-9/">Component Lifecycle</a></li>
</ol>
<p>In part three we will build on our work in <a href="/documentation/tutorials/create-a-new-component-part-2">part two</a> by learning how to modify the style of our new component for different contexts.</p>
<h2 id="component-brands">Component Brands</h2>
<p>Origami components are used by products across the Financial Times Group, and some groups require a distinct appearance from others; internal tools have a distinct style from ft.com products for example. To cater for these broad usecases, the appearance of Origami components may be changed within a project by choosing a “brand”:</p>
<ul>
<li>core: FT branding for public ft.com sites and affiliates.</li>
<li>internal: Style suitable for internal products, tools, and documentation.</li>
<li>whitelabel: Base, structural styles only to build on and customise.</li>
</ul>
<p>A project chooses a brand globally, meaning all components included in a project must use the same brand. See <a href="/documentation/components/branding/">component brand documentation</a> for examples on how a project may use brands. For reference, when it comes to building branding components, there is also a <a href="/specification/v1/components/sass/#brands">section on component brands in the specification</a>.</p>
<h3 id="supported-brands">Supported Brands</h3>
<p>Origami components may support one or more brand. The brands a component supports are defined along with other component details in <a href="/specification/v1/manifest/#brands"><code>origami.json</code></a>, by the <code>brands</code> property. If <code>brands</code> is not set the component is “unbranded” and implicitly only supports the “core” brand.</p>
<p>When prompted by <code>npm run create-component</code> in <a href="/documentation/tutorials/create-a-new-component-part-1">part one</a> we select all brands, so the <code>origami.json</code> file of our component should include an array of each brand <code>"brands": ["core","internal","whitelabel"],</code>. If not, update your <code>origami.json</code> now.</p>
<h3 id="switching-brands-in-development">Switching Brands In Development</h3>
<p>When building a branded Origami component it will generate component assets (<abbr title="Hyper Text Markup Language">HTML</abbr>, <abbr title="JavaScript">JS</abbr>, and <abbr title="Cascading Style Sheets ">CSS</abbr> files) for each brand.</p>
<p>To switch between brands go back to your development URL (e.g <code>localhost:5000</code>) and choose the correct brand HTML file. Alternatively, you can manually change the url end point from <code>/core-demo</code> to <code>/internal-demo</code>.</p>
<p>Once the URL is updated you should see in our demo the background colour has changed from a wheat colour to a light slate colour. That’s because wheat is not part of the <a href="https://registry.origami.ft.com/components/o-colors@6.4.2/?brand=internal#demo-primary-palette">internal brand colour palette</a>. As we used a colour usecase <code>oColorsByUsecase('box', 'background')</code> in <a href="/documentation/tutorials/create-a-new-component-part-2">part two</a>, rather than specify a specific colour, it was updated automatically for the internal brand.</p>
<figure>
	<img alt="" src="/assets/images/tutorial-new-component/hello-world-demo-5-sass.png">
	<figcaption>
        Our example component for the internal brand no longer has a wheat background, because the background was set using a colour usecase.
	</figcaption>
</figure>
<p>Do the same for the whitelabel brand by changing/choosing the <code>whitelabel-demo.html</code> file from rendered assets. Maybe you already noticed, but if you look at our terminal logs you should see a Sass error <code>Error: 'The color "slate" does not exist.</code>. This error is because we set a border colour by name <code>oColorsByName('slate')</code> in <a href="/documentation/tutorials/create-a-new-component-part-2">part two</a>, but slate is not in the limited <a href="https://registry.origami.ft.com/components/o-colors@6.4.2/?brand=whitelabel#demo-primary-palette">whitelabel colour palette</a>.</p>
<p>To fix this error we need to set the border colour of our component differently depending on which brand is being used.</p>
<h3 id="configuring-brand-variables">Configuring Brand Variables</h3>
<p>To style our component according to the current brand we need to use <a href="https://registry.origami.ft.com/components/o-brand@/readme">o-brand</a>, which <code>create-component</code> has already added as a dependency.</p>
<p>We will use <code>o-brand</code> to define a brand variable <code>border-color</code> in <code>src/scss/_brand.scss</code>, which is where all our brand configuration will go.</p>
<p>You should see in <code>src/scss/_brand.scss</code> two Sass functions which we will discuss later, for now add the following Sass at the bottom of the file.</p>
<pre><code class="o-syntax-highlight--scss">// src/scss/_brand.scss

@if oBrandIs('core') {
	@include oBrandDefine('o-example', 'core', (
		'variables': (
			'border-color': oColorsByName('slate')
		),
		'supports-variants': ()
	));
}</code></pre>
<p>Lets break down what this is doing.</p>
<p>First, we check if the current brand is the <code>core</code> brand using the <code>o-brand</code> function <code>oBrandIs()</code> and a <a href="https://sass-lang.com/documentation/at-rules/control/if">Sass if statement</a>. We do this to ensure the Sass within the <code>if</code> statement is only evaluated when the brand is the <code>core</code> brand:</p>
<pre><code class="o-syntax-highlight--scss">// src/scss/_brand.scss

@if oBrandIs('core') {
	//...
}</code></pre>
<p>Second, we call the mixin <code>oBrandDefine</code>, which will let us set component configuration for a given brand. In this case we are configuring our <code>o-example</code> component for the <code>core</code> brand.</p>
<pre><code class="o-syntax-highlight--scss">// src/scss/_brand.scss

@if oBrandIs('core') {
	@include oBrandDefine('o-example', 'core', (
        // brand configuration for the core brand here..
    ));
}</code></pre>
<p>Third, we pass configuration to <code>oBrandDefine</code> for the brand. We set a brand variable <code>border-color</code> within a <code>variables</code> map, to the value of the slate colour <code>oColorsByName('slate')</code>. We also set a property <code>supports-variants</code>, which we will discuss more shortly.</p>
<pre><code class="o-syntax-highlight--scss">// src/scss/_brand.scss

@if oBrandIs('core') {
	@include oBrandDefine('o-example', 'core', (
		'variables': (
			'border-color': oColorsByName('slate')
		),
		'supports-variants': ()
	));
}</code></pre>
<p>Now repeat this block for the <code>internal</code> and <code>whitelabel</code> brand, but change <code>border-color</code> to <code>oColorsByName('black')</code> for the <code>whitelabel</code> brand (as <code>slate</code> is not part of the <a href="https://registry.origami.ft.com/components/o-colors@6.4.2/?brand=whitelabel#demo-primary-palette">whitelabel colour palette</a>):</p>
<pre><code class="o-syntax-highlight--scss">// src/scss/_brand.scss

// Add core brand configuration.
@if oBrandIs('core') {
	@include oBrandDefine('o-example', 'core', (
		'variables': (
			'border-color': oColorsByName('slate')
		),
		'supports-variants': ()
	));
}

// Add internal brand configuration.
@if oBrandIs('internal') {
	@include oBrandDefine('o-example', 'internal', (
		'variables': (
			'border-color': oColorsByName('slate')
		),
		'supports-variants': ()
	));
}

// Add whitelabel brand configuration.
@if oBrandIs('whitelabel') {
	@include oBrandDefine('o-example', 'whitelabel', (
		'variables': (
			'border-color': oColorsByName('black')
		),
		'supports-variants': ()
	));
}</code></pre>
<p>Now we have defined <code>border-color</code> for each brand, with a different colour set for the whitelabel brand, we can use <code>border-color</code> within our Sass. Return your focus to the Sass function <code>_oExampleGet</code> at the top of <code>src/scss/_brand.scss</code>:</p>
<pre><code class="o-syntax-highlight--scss">// src/scss/_brand.scss

/// Helper for `o-brand` function.
/// @access private
@function _oExampleGet($variables, $from: null) {
	@return oBrandGet($component: 'o-example', $variables: $variables, $from: $from);
}</code></pre>
<p>The <code>_oExampleGet</code> function is a component specific function which wraps a <code>o-brand</code> function <code>oBrandGet</code>. <code>oBrandGet</code> is used to retrieve a brand variable depending on the current brand. Wrapping this in <code>_oExampleGet</code> is useful to avoid passing the <code>$component</code> argument repeatedly.</p>
<p>Update <code>main.scss</code> to set our border color with <code>_oExampleGet('border-color')</code>:</p>
<pre><code class="o-syntax-highlight--diff">// main.scss

.o-example {
		@include oTypographyBody();
-		border: 1px solid oColorsByName('slate');
+		border: 1px solid _oExampleGet('border-color');
		background: oColorsByUsecase('box', 'background');
		padding: oSpacingByName('s4');
		margin: oSpacingByName('s1');
	}</code></pre>
<p>Now if we check our terminal logs again we get a different error! The error is <code>Could not find a colour for the "box" "background" usecase.</code>. That’s because the whitelabel brand does not support the <a href="https://registry.origami.ft.com/components/o-colors@6.4.2/readme?brand=core#usecases">box colour usecase</a> we used to set a background. Unlike the core and internal brand, the whitelabel brand is not opinionated and provides a limited set of colour usescases. Instead of using the usecase lets add a new brand variable <code>background-color</code> so we can support the whitelabel brand as well:</p>
<pre><code class="o-syntax-highlight--diff">// src/scss/_brand.scss

// Add core brand configuration.
@if oBrandIs('core') {
	@include oBrandDefine('o-example', 'core', (
		'variables': (
			'border-color': oColorsByName('slate'),
+			'background-color': oColorsByName('wheat')
		),
		'supports-variants': ()
	));
}

// Add internal brand configuration.
@if oBrandIs('internal') {
	@include oBrandDefine('o-example', 'internal', (
		'variables': (
			'border-color': oColorsByName('slate'),
+			'background-color': oColorsByName('slate-white-5')
		),
		'supports-variants': ()
	));
}

// Add whitelabel brand configuration.
@if oBrandIs('whitelabel') {
	@include oBrandDefine('o-example', 'whitelabel', (
		'variables': (
			'border-color': oColorsByName('black'),
+			'background-color': oColorsByName('white')
		),
		'supports-variants': ()
	));
}</code></pre>
<p>And update <code>main.scss</code> again:</p>
<pre><code class="o-syntax-highlight--diff">// main.scss

.o-example {
		@include oTypographyBody();
		border: 1px solid _oExampleGet('border-color');
-		background: oColorsByUsecase('box', 'background');
+		background: _oExampleGet('background-color');
		padding: oSpacingByName('s4');
		margin: oSpacingByName('s1');
	}</code></pre>
<p>Now our component supports all three brands, with a unique appearance for each.</p>
<figure>
	<img alt="" src="/assets/images/tutorial-new-component/hello-world-demo-6-sass.png">
	<figcaption>
        The whitelabel brand version of our component is not very opinionated. It's black and white and uses a system font.
	</figcaption>
</figure>
<figure>
	<img alt="" src="/assets/images/tutorial-new-component/hello-world-demo-7-sass.png">
	<figcaption>
        The internal brand version of our component uses Financial Times fonts, and has a subtle background.
	</figcaption>
</figure>
<figure>
	<img alt="" src="/assets/images/tutorial-new-component/hello-world-demo-8-sass.png">
	<figcaption>
        The core brand version of our component uses Financial Times fonts and a wheat background.
	</figcaption>
</figure>
<p>There is more documentation about <a href="https://registry.origami.ft.com/components/o-brand/readme#obrandget"><code>oBrandGet</code> in the <code>o-brand</code> readme</a>.</p>
<p>You may have noticed we haven’t returned to the <code>supports-variants</code> configuration yet or the <code>_oExampleSupports</code> function. We’ll discuss those next as part of the themes section. If you would like to find out more about <code>o-brand</code> features, see the <a href="https://registry.origami.ft.com/components/o-brand/readme"><code>o-brand</code> readme</a>.</p>
<h2 id="component-themes">Component Themes</h2>
<p>A component may also support themes within a brand, to allow for variations of the component. Further, some components include a Sass interface for users of the component to generate a custom theme.</p>
<p>Unlike brands, which are set at a global level, a project could include many themes of a component at the same time. For example the <a href="https://registry.origami.ft.com/components/o-message@5.3.1">o-message</a> component has success, neutral and error themes for alerts.</p>
<p>Now let’s add themes to our <code>o-example</code> component. For reference there is a <a href="/specification/v1/components/sass/#themes">theme section in the component specification</a>.</p>
<p>Our example component will have two themes: an <code>inverse</code> theme that should be used when our component is on a dark background; and a <code>b2c</code> (business to consumer) theme just for the core brand. We will also make our component flexible and allow a user to generate a custom theme.</p>
<h3 id="theme-mixin">Theme Mixin</h3>
<p>We will add a new mixin called <code>oExampleAddTheme</code>, following the <a href="/specification/v1/components/sass/#themes">theme convention in the specification</a>, to a new file <code>src/scss/_mixins.scss</code>. Don’t forget to import your new <code>src/scss/_mixins.scss</code> in <code>main.scss</code>, in the same way <code>src/scss/_variables_.scss</code> is imported.</p>
<p>Our <code>oExampleAddTheme</code> mixin will accept a theme name and output a CSS class <code>o-example--[theme-name]</code> which can be added to our component markup to change the theme. The double dash in the theme name is part of the <a href="https://csswizardry.com/2013/01/mindbemding-getting-your-head-round-bem-syntax/">BEM modifier naming convention</a>.</p>
<pre><code class="o-syntax-highlight--scss">// src/scss/_mixins.scss

@mixin oExampleAddTheme($name) {
	.o-example--#{name} {
		// update border-color and background
		// for the given theme
	}
}</code></pre>
<p>Our mixin <code>oExampleAddTheme</code> uses the <code>$name</code> argument to create a new CSS class <code>.o-example--#{name}</code> (<a href="https://sass-lang.com/documentation/style-rules#interpolation">see Sass interpolation</a>). Using them <code>$name</code> variable it is possible to output different CSS conditionally with a <a href="https://sass-lang.com/documentation/at-rules/control/if">Sass if statement</a>. However this would be quite verbose Sass, especially as we need to support multiple themes which might differ in style per brand. Instead we can configure themes per brand where we called <code>oBrandDefine</code> earlier.</p>
<h3 id="variant-variables">Variant Variables</h3>
<p>A variant of a component is any visual modification. For example if we were to add a class <code>o-example--big</code> which increased the font size of our component, that would be a variant of <code>o-example</code>. In the same way a theme like <code>o-example--inverse</code> is also a variant.</p>
<p>To define variables for a variant within a brand add a map to the <code>variables</code> configuration of <code>oBrandDefine</code>, where the key is the variant name.</p>
<pre><code class="o-syntax-highlight--diff">// src/scss/_brand.scss

// Add core brand configuration.
@if oBrandIs('core') {
	@include oBrandDefine('o-example', 'core', (
		'variables': (
			'border-color': oColorsByName('slate'),
			'background-color': oColorsByName('wheat'),
+			'inverse': (
+				'text-color': oColorsByName('white'),
+				'background-color': oColorsByName('slate')
+			),
+			'b2c': (
+				'background-color': oColorsByName('org-b2c-light')
+			)
		),
		'supports-variants': ()
	));
}

// Add internal brand configuration.
@if oBrandIs('internal') {
	@include oBrandDefine('o-example', 'internal', (
		'variables': (
			'border-color': oColorsByName('slate'),
			'background-color': oColorsByName('slate-white-5'),
+			'inverse': (
+				'text-color': oColorsByName('white'),
+				'background-color': oColorsByName('slate')
+			)
		),
		'supports-variants': ()
	));
}

// Add whitelabel brand configuration.
@if oBrandIs('whitelabel') {
	@include oBrandDefine('o-example', 'whitelabel', (
		'variables': (
			'border-color': oColorsByName('black'),
			'background-color': oColorsByName('white'),
+			'inverse': (
+				'text-color': oColorsByName('white'),
+				'background-color': oColorsByName('black')
+			)
		),
		'supports-variants': ()
	));
}</code></pre>
<p>Notice that the background colour we set for the inverse variant is different for the <code>whitelabel</code> brand than the other brands. And the <code>core</code> brand is the only one with <code>b2c</code> variables, as the <code>b2c</code> variant is specific to the core brand.</p>
<p>We can now use the <code>$from</code> argument of our function <code>_oExampleGet</code> to fetch a brand variable from one of our variants. For example <code>_oExampleGet('background-color', $from: 'b2c')</code> will return the <code>org-b2c-light</code> colour when the current brand is the <code>core</code> brand, or <code>null</code> otherwise.</p>
<h3 id="variant-support">Variant Support</h3>
<p>To allow us to check if the theme name given to our <code>oExampleAddTheme</code> mixin is supported by the current brand, add the theme name to the <code>supports-variants</code> list of <code>oBrandDefine</code> configuration. Our final configuration looks like this:</p>
<pre><code class="o-syntax-highlight--scss">// src/scss/_brand.scss

// Add core brand configuration.
@if oBrandIs('core') {
	@include oBrandDefine('o-example', 'core', (
		'variables': (
			'border-color': oColorsByName('slate'),
			'background-color': oColorsByName('wheat'),
			'inverse': (
				'text-color': oColorsByName('white'),
				'background-color': oColorsByName('slate')
			),
			'b2c': (
				'background-color': oColorsByName('org-b2c-light')
			)
		),
		'supports-variants': (
			'inverse',
			'b2c'
		)
	));
}

// Add internal brand configuration.
@if oBrandIs('internal') {
	@include oBrandDefine('o-example', 'internal', (
		'variables': (
			'border-color': oColorsByName('slate'),
			'background-color': oColorsByName('slate-white-5'),
			'inverse': (
				'text-color': oColorsByName('white'),
				'background-color': oColorsByName('slate')
			)
		),
		'supports-variants': ('inverse')
	));
}

// Add whitelabel brand configuration.
@if oBrandIs('whitelabel') {
	@include oBrandDefine('o-example', 'whitelabel', (
		'variables': (
			'border-color': oColorsByName('black'),
			'background-color': oColorsByName('white'),
			'inverse': (
				'text-color': oColorsByName('white'),
				'background-color': oColorsByName('black')
			)
		),
		'supports-variants': ('inverse')
	));
}</code></pre>
<p>The <code>_oExampleSupports</code> function we briefly mentioned earlier will return <code>true</code> if a given variant name is supported by the current brand, based on the <code>supports-variants</code> configuration we just set. For example only the <code>core</code> brand has the <code>b2c</code> theme listed under <code>supports-variants</code> so <code>_oExampleSupports('b2c')</code> will only return true when the current brand is the <code>core</code> brand.</p>
<h3 id="output-theme-css">Output Theme CSS</h3>
<p>We can now complete our theme mixin:</p>
<ul>
<li>Use <code>_oExampleSupports</code> with <a href="https://sass-lang.com/documentation/at-rules/error">the Sass <code>@error</code> at-rule</a> to throw an error if the theme name given is not supported by the current brand.</li>
<li>Use <code>_oExampleGet</code> to get theme values.</li>
<li>Use <code>oButtonsContent</code> to update the button styles if there is a matching <a href="https://registry.origami.ft.com/components/o-buttons@6.0.14/readme?brand=core#themes">o-buttons theme</a>.</li>
</ul>
<pre><code class="o-syntax-highlight--scss">// src/scss/_mixins.scss

@mixin oExampleAddTheme($name) {
	// Error if an unsupported theme name is given.
	@if not _oExampleSupports($name) {
		@error 'The name "#{$name}" is not a supported "#{oBrandGetCurrentBrand()}" brand theme';
	}

	// Output theme css.
	.o-example--#{$name} {
		background: _oExampleGet('background-color', $from: $theme);
		color: _oExampleGet('text-color', $from: $theme);
		// Theme the o-example button using o-buttons.
		// Only output button styles to change the theme,
		// don't repeat styles shared by all buttons.
		$matching-button-theme: $name == 'inverse' or $name == 'b2c';
		@if $matching-button-theme {
			.o-example__button {
				@include oButtonsContent($opts: (
					'type': 'primary',
					'theme': $name
				), $include-base-styles: false);
			}
		}
	}
}</code></pre>
<p>Now output the themes in the primary mixin <code>oExample</code>. We use the Sass <a href="https://sass-lang.com/documentation/at-rules/control/each"><code>@each</code> at-rule</a> to loop over each theme and call <code>oExampleAddTheme</code> if <code>_oExampleSupports</code> returns <code>true</code>:</p>
<pre><code class="o-syntax-highlight--scss">// main.scss

@mixin oExample ($opts: ()) {
	.o-example {
		// ... base styles as previously discussed
	}

	.o-example__button {
		// ... button styles as previously discussed
	}

	// call the `oExampleAddTheme` mixin to output css
	// for each theme if the current brand supports it
	@each $name in ('inverse', 'b2c') {
		@if _oExampleSupports($name) {
			@include oExampleAddTheme($name);
		}
	}
}</code></pre>
<p>Currently users of the <code>oExample</code> mixin are forced to output all themes. This will increase the size of users CSS bundle unnecessarily if they are not using them all. We can improve <code>oExample</code> by adding the list of themes to the <code>$opts</code> parameter. Using the <code>$opts</code> parameter means we can output all themes by default but also allow users to choose what themes to output.</p>
<pre><code class="o-syntax-highlight--scss">// main.scss

@mixin oExample ($opts: (
	'themes': ('inverse', 'b2c')
)) {
	// Get the themes to output from the `$opts` argument.
	// If the user has passed an `$opts` map without a
	// `themes` key, default to an empty list.
	$themes: map-get($opts, 'themes');
	$themes: if($themes, $themes, ());

	.o-example {
		@include oTypographyBody();
		border: 1px solid _oExampleGet('border-color');
		background: _oExampleGet('background-color');
		padding: oSpacingByName('s4');
		margin: oSpacingByName('s1');
	}

	.o-example__button {
		@include oButtonsContent($opts: ('type': 'primary'));
	}

	// Call the `oExampleAddTheme` mixin to output css
	// for each theme if the current brand supports it.
	@each $name in $themes {
		@if _oExampleSupports($name) {
			@include oExampleAddTheme($name);
		}
	}
}</code></pre>
<h3 id="custom-theme">Custom Theme</h3>
<p>We can make our <code>o-example</code> component more flexible by allowing users to create their own theme. To achieve that we will add an optional <code>$opts</code> argument to <code>oExampleAddTheme</code>. The <code>$opts</code> argument will accept a map of variables (like those we defined in <code>src/scss/_brand.scss</code>), and pass them to <code>_oExampleGet</code> to create a custom theme. We’ll add support for one new option, <code>button-color</code>, which we will forward to the <code>oButtonsContent</code> mixin, so custom <code>o-example</code> themes can change the colour of the button also.</p>
<pre><code class="o-syntax-highlight--scss">// src/scss/_mixins.scss

@mixin oExampleAddTheme($name, $opts: null) {
	// Error if an unsupported theme name is given without
	// `$opts` options. If `$opts` are given we are adding
	// a new custom theme.
	@if not $opts and not _oExampleSupports($name) {
		@error 'The name "#{$name}" is not a supported "#{oBrandGetCurrentBrand()}" brand theme';
	}

	// If options are given use them to create a custom theme,
	// otherwise use the predefined variables.
	$theme: if($opts, $opts, $name);

	// Output theme css.
	.o-example--#{$name} {
		background: _oExampleGet('background-color', $from: $theme);
		color: _oExampleGet('text-color', $from: $theme);
		// Theme the o-example button using o-buttons.
		// Only output button styles to change the theme,
		// don't repeat styles shared by all buttons.
		$matching-button-theme: $name == 'inverse' or $name == 'b2c';
		// Theme the button with the `button-color` option if the theme
		// name does not match inverse or b2c, existing o-buttons theme.
		// https://registry.origami.ft.com/components/o-buttons@6.0.14/readme?brand=core#themes
		$custom-button-color: _oExampleGet('button-color', $from: $theme);
		@if $matching-button-theme or $custom-button-color {
			.o-example__button {
				@include oButtonsContent($opts: (
					'type': 'primary',
					'theme': if($matching-button-theme, $name, ('color': $custom-button-color))
				), $include-base-styles: false);
			}
		}
	}
}</code></pre>
<p>From a users point of view, this is how a custom theme will be created using our <code>oExampleAddTheme</code> mixin:</p>
<pre><code class="o-syntax-highlight--scss">// src/scss/_mixins.scss

// Create a custom theme `.o-example--my-custom-theme`
@include oExampleAddTheme('my-custom-theme', (
	'background-color': oColorsByName('white'),
	'text-color': oColorsByName('crimson'),
	'button-color': oColorsByName('white')
));</code></pre>
<h3 id="theme-markup">Theme Markup</h3>
<p>Update your demo markup <code>demos/src/demo.mustache</code> with a theme class to preview what we have done. For example to see the inverse theme update the component class to <code>o-example o-example--inverse</code>:</p>
<pre><code class="o-syntax-highlight--diff">&#x3C;!-- demos/src/demo.mustache -->

-&#x3C;div class="o-example" data-o-component="o-example">
+&#x3C;div class="o-example o-example--inverse" data-o-component="o-example">
	Hello world, I am a component named o-example!
	&#x3C;button class="o-example__button">count&#x3C;/button>
&#x3C;/div></code></pre>
<figure>
	<img alt="" src="/assets/images/tutorial-new-component/hello-world-demo-9-sass.png">
	<figcaption>
        A core brand view of our "o-example" component with the `o-example--inverse` theme class applied.
	</figcaption>
</figure>
<p>To see the b2c theme, update the component class to <code>o-example o-example--b2c</code>:</p>
<pre><code class="o-syntax-highlight--diff">&#x3C;!-- demos/src/demo.mustache -->

-&#x3C;div class="o-example" data-o-component="o-example">
+&#x3C;div class="o-example o-example--b2c" data-o-component="o-example">
	Hello world, I am a component named o-example!
	&#x3C;button class="o-example__button">count&#x3C;/button>
</code></pre>
<figure>
	<img alt="" src="/assets/images/tutorial-new-component/hello-world-demo-10-sass.png">
	<figcaption>
        A core brand view of our "o-example" component with the `o-example--b2c` theme class applied.
	</figcaption>
</figure>
<h2 id="part-four-demos">Part Four: Demos</h2>
<p>In total we’ve created 7 visual variants of our component across 3 brands and 2 themes, and created a Sass <abbr title="application programming interface">api</abbr> for users of the component to create custom themes. Many components don’t need to support so many variants but building a complex example has allowed us to explore all aspects of branding and themes.</p>
<p>In summary, in part three we learnt:</p>
<ul>
<li>Origami components may offer a distinct appearance for different brands: core, internal, or whitelabel.</li>
<li>How to use <code>o-brand</code> to set and retrieve brand variables in Sass.</li>
<li>How to switch brands locally.</li>
<li>Origami components may be themed within a brand.</li>
<li>Some components allow custom themes to be created by the user.</li>
</ul>
<p>Now our component has multiple variants in the way of themes, we need multiple demos to present them to potential users in the <a href="https://registry.origami.ft.com/components">Origami registry</a>. In the next part we will add multiple demos and also look at other demo options in more detail. <a href="/documentation/tutorials/create-a-new-component-part-4">Continue to part four</a>.</p></div><div class="o-layout__footer"><footer class="o-footer-services"><div class="o-footer-services__container"><div class="o-footer-services__wrapper o-footer-services__wrapper--top"><a class="o-footer-services__icon-link o-footer-services__icon-link--github" href="https://github.com/Financial-Times/origami">View project on GitHub</a><a class="o-footer-services__icon-link o-footer-services__icon-link--github" href="https://github.com/Financial-Times/origami/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-desc">View proposals to Origami</a><a class="o-footer-services__icon-link o-footer-services__icon-link--slack" href="https://financialtimes.slack.com/messages/origami-support">#origami-support</a><p class="o-footer-services__content">
Get in touch at <a href="mailto:origami.support@ft.com">origami.support@ft.com</a> for help or advice.
				Feel free to
<a href="https://github.com/Financial-Times/origami/edit/main/apps/website/src/pages/documentation/tutorials/create-a-new-component-part-3/">suggest an edit to this page</a>.
</p></div></div><div class="o-footer-services__container"><div class="o-footer-services__wrapper o-footer-services__wrapper--legal"><div class="o-footer-services__links"><a href="https://help.ft.com/help/legal-privacy/cookies/">Cookies</a><a href="https://help.ft.com/help/legal-privacy/copyright/copyright-policy/">Copyright</a><a href="https://help.ft.com/help/legal-privacy/privacy/">Privacy</a><a href="https://help.ft.com/help/legal-privacy/terms-conditions">Terms & Conditions</a><a href="https://help.ft.com/legal-privacy/copyright-policy/">Slavery Statement & Policies</a></div><p><span>&copy; THE FINANCIAL TIMES LTD 2024.</span> FT and
				'Financial Times' are trademarks of The Financial Times Ltd.
</p></div></div></footer></div></div></body></html>