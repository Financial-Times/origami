<!DOCTYPE html>
<html lang="en-GB" class="core o-typography--loading-sans o-typography--loading-sans-bold o-typography--loading-display o-typography--loading-display-bold" data-o-component="o-typography">
<head>

	<!-- Page meta-information -->
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<title>Origami Newsletter, May 2020</title>
	<meta name="description" content="This issue features a big Fastly cost saving, new font formats, and a major release of Origami Build Tools." />

	<!-- Cuts the mustard test -->
	<script>
		var cutsTheMustard = ('querySelector' in document && 'localStorage' in window && 'addEventListener' in window);
		if (cutsTheMustard) {
			document.documentElement.className = document.documentElement.className.replace(/\bcore\b/g, 'enhanced');
		}
	</script>

	<!-- Favicons -->
	<link rel="icon" type="image/svg+xml" href="https://www.ft.com/__origami/service/image/v2/images/raw/ftlogo-v1%3Aorigami?source=origami-docs&format=svg" sizes="any">
	<link rel="alternate icon" type="image/png" href="https://www.ft.com/__origami/service/image/v2/images/raw/ftlogo-v1%3Aorigami?source=origami-docs&width=16&height=16&format=png" sizes="16x16">
	<link rel="alternate icon" type="image/png" href="https://www.ft.com/__origami/service/image/v2/images/raw/ftlogo-v1%3Aorigami?source=origami-docs&width=32&height=32&format=png" sizes="32x32">
	<link rel="alternate icon" type="image/png" href="https://www.ft.com/__origami/service/image/v2/images/raw/ftlogo-v1%3Aorigami?source=origami-docs&width=96&height=96&format=png" sizes="96x96">
	<link rel="alternate icon" type="image/png" href="https://www.ft.com/__origami/service/image/v2/images/raw/ftlogo-v1%3Aorigami?source=origami-docs&width=128&height=128&format=png" sizes="128x128">
	<link rel="alternate icon" type="image/png" href="https://www.ft.com/__origami/service/image/v2/images/raw/ftlogo-v1%3Aorigami?source=origami-docs&width=196&height=196&format=png" sizes="196x196">
	<link rel="alternate icon" type="image/png" href="https://www.ft.com/__origami/service/image/v2/images/raw/ftlogo-v1%3Aorigami?source=origami-docs&width=310&height=310&format=png" sizes="310x310">

	<!-- Site links -->
	<link rel="sitemap" type="application/xml" href="/sitemap.xml" title="Sitemap" />
	<link rel="canonical" href="https://origami.ft.com/blog/2020/06/01/newsletter/" />

	<!-- Feed -->
	<link type="application/atom+xml" rel="alternate" href="https://origami.ft.com/feed.xml" title="Origami Newsletter" />

	<!-- Progressive Font Loading -->
	<!-- https://github.com/Financial-Times/o-typography/tree/v6.1.3#setup-progressive-loading -->
	<script>
		var rootElement = document.querySelector('html')
		if (/(^|\s)o-typography-fonts-loaded=1(;|$)/.test(document.cookie)) {
			var fontLabels = ['sans', 'sans-bold', 'display', 'display-bold']
			for (var i = 0; i < fontLabels.length; i++) {
				rootElement.className = rootElement.className.replace('o-typography--loading-' + fontLabels[i], '')
			}
		}
	</script>

	<!-- Styles -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<style>
		/* Hide any enhanced experience content when in core mode, and vice versa. */
		.core .o--if-js,
		.enhanced .o--if-no-js {
			display: none !important;
		}
	</style>
	<link rel="stylesheet" href="https://www.ft.com/__origami/service/build/v3/bundles/css?components=o-normalise@^3.0.3,o-typography@^7.0.3,o-layout@^5.0.6,o-header-services@^5.1.0,o-footer-services@^4.0.3,o-syntax-highlight@^4.0.1,o-message@^5.1.0,o-table@^9.0.3,o-autoinit@^3.0.1&brand=internal&system_code=origami" />
	<link rel="stylesheet" href="/assets/main.css" />

	<!-- JS -->
	<script>
		(function(src) {
			if (cutsTheMustard) {
				var o = document.createElement('script');
				o.async = o.defer = true;
				o.src = src;
				var s = document.getElementsByTagName('script')[0];
				s.parentNode.insertBefore(o, s);
			}
		}('https://www.ft.com/__origami/service/build/v3/bundles/js?components=o-normalise@^3.1.0,o-typography@^7.1.0,o-layout@^5.1.0,o-header-services@^5.1.0,o-footer-services@^4.1.0,o-syntax-highlight@^4.1.0,o-message@^5.1.0,o-table@^9.1.0,o-autoinit@^3.0.1&system_code=origami'));
	</script>
</head>
<body>
	<div class="o-layout o-layout--docs" data-o-component="o-layout" data-o-layout-nav-heading-selector="h1, h2">
		
		<div class="o-layout__header">
			
<header class="o-header-services" data-o-component="o-header-services">
	<div class="o-header-services__top">
			<div class="o-header-services__hamburger">
				<a class="o-header-services__hamburger-icon" href="#" role="button">
					<span class="o-header-services__visually-hidden">Open primary navigation</span>
				</a>
			</div>
		<a href="/" class="o-header-services__logo"><span class="o-header-services__visually-hidden">To homepage</span></a>
		<div class="o-header-services__title">
			<a class="o-header-services__product-name" href="/">Origami</a>
			<span class="o-header-services__product-tagline">Frontend Components &amp; Services</span>
		</div>
	</div>

	<nav class="o-header-services__primary-nav" aria-label="primary">
		<ul class="o-header-services__primary-nav-list">
			<li>
				<a href="/" >
					Home
				</a>
			</li>
			<li>
				<a href="/documentation/" >
					Documentation
				</a>
			</li>
			<li>
				<a href="https://registry.origami.ft.com/components"> Registry</a>
			</li>
			<li>
				<a href="/blog/" >
					Blog
				</a>
			</li>
		</ul>
	</nav>



	

	
</header>

		</div>
		

		<div class="o-layout__sidebar"></div>

<div class="o-layout__main o-layout-typography" data-o-component="o-syntax-highlight">
	<h1 id="origami-newsletter-may-2020">Origami Newsletter, May 2020</h1>

<p>
	Posted on <time datetime="2020-06-01T00:00:00Z">01 June 2020</time>
	by Lee Moody.
	
		<br/>Tagged with
		
			<span>Newsletter</span>.
		
	
</p>

<p><abbr title="Too long; didn't read">
	<strong>
	TL;DR:
	</strong>
</abbr> This issue features a big Fastly cost saving, new font formats, and a major release of Origami Build Tools.</p>

<h2 id="top-things">Top Things</h2>

<p>These are some of the bigger things weâ€™ve done over the last month.</p>

<h3 id="fastly-cost-saving">Fastly Cost Saving</h3>

<p>This month we updated our Fastly configuration for the Origami Build Service and Origami Image Service. Our new Fastly contract meant that our previous architecture was no longer good from a cost perspective (it used to be fine with our old contract).</p>

<p>With the update weâ€™re saving ~Â£5,000 per month.</p>

<p>Thank you Sam Parkinson for calculating the cost saving and helping this work get prioritised.</p>

<h3 id="a-new-font-format">A New Font Format</h3>

<p>We made all our fonts available in the <code class="language-plaintext highlighter-rouge">woff2</code> format, which has a <a href="https://github.com/Financial-Times/o-fonts-assets/pull/19#issue-422025287">much smaller file size compared to the original</a> <code class="language-plaintext highlighter-rouge">woff</code> format.</p>

<p>This will help improve the performance of so many of our sites including ft.com, Specialist Titles, internal products and tools.</p>

<p>As we helped fix a <a href="https://github.com/Financial-Times/dotcom-page-kit/pull/826">double font loading bug on ft.com</a> at the same time, we donâ€™t have statistics on how much the new font format improved the performance of ft.com for our readers. But both updates together made a huge improvement:</p>

<ul>
  <li>Visually complete: 8% faster</li>
  <li>DOM content loaded: 17% faster</li>
  <li>Total page size: 18% smaller</li>
</ul>

<p>Big thanks to Nick Colley for making the suggestion that we include <code class="language-plaintext highlighter-rouge">woff2</code>; and for helping us deploy the updates quickly to Customer Products projects!</p>

<h3 id="origami-build-tools-v10">Origami Build Tools v10</h3>

<p>We released another major of Origami Build Tools. This release includes some significant maintenance work updating a number of outdated or deprecated dependencies. But more excitingly weâ€™ve made improvements to the workflow for component maintainers too ðŸŽ‰</p>

<p><em>If you contribute to Origami components or your team actively maintains one we recommend upgrading to v10. Please let us know if you have any issues or feedback.</em></p>

<h4 id="simplified-interface">Simplified Interface</h4>

<p>To help engineers new to Origami components get up and running with component development we simplified the most common command. To start working on a component with Origami Build Tools it was common to run the following command:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>obt demo --run-server --watch --verbose
</code></pre></div></div>

<p>Thatâ€™s a lot of options to understand at first. Instead we simplified this to:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>obt develop
</code></pre></div></div>

<p>If youâ€™ve never used Origami Build Tools before and would like to understand what this command does, <a href="https://github.com/Financial-Times/origami-build-tools#usage">see the Origami Build Tools readme</a>.</p>

<h4 id="speed-improvements">Speed Improvements</h4>

<p>Origami Build Tools now compiles component code faster. Itâ€™s an important metric for Origami Build Tools as it helps keep the feedback loop short between an engineer making a code change and seeing the result of that change.</p>

<p>As an unscientific example on an FT MacBook Pro laptop: the quickest of three <a href="https://github.com/Financial-Times/o-table">o-table</a> demo builds is 2.18 seconds over 4.11 seconds â€“ around a 53% improvement.</p>

<p>We improved the performance of Origami Build Tools by creating two new packages:</p>
<ul>
  <li><a href="https://github.com/Financial-Times/scrumple#scrumple">Financial-Times/scrumple</a>: a fast (and scrappy) JavaScript bundler for developing Origami components, based on a now-deleted tool called Pax.</li>
  <li><a href="https://github.com/Financial-Times/sass">Financial-Times/sass</a>: Prebuilt <a href="https://github.com/sass/dart-sass">dart-sass</a> binaries available via NPM.</li>
</ul>

<h2 id="special-thanks">Special Thanks</h2>

<p>This month our special thanks goes to Rowan Manning! In case you missed the news, at the start of May Rowan moved from the Origami team (O&amp;R) to Customer Products. So a big thank you to Rowan for all their work on and leading Origami over the years ðŸ˜ƒ. Jake Champion is the stand-in Tech Lead, if you have questions about Origami please contact them instead of Rowan.</p>

<h2 id="broader-update">Broader Update</h2>

<p>A digest of other things that have happened since our last update:</p>

<ul>
  <li>MAJOR: <a href="https://github.com/Financial-Times/origami-bower-registry">Financial-Times/origami-bower-registry</a>. Upgrade to node 12, drop support for previous versions.</li>
  <li>NEW: <a href="https://github.com/Financial-Times/origami-workshop">Financial-Times/origami-workshop</a>: We created a small tool to help attendees of the Intro to Origami workshop complete <a href="/documentation/tutorials/manual-build/">the manual build tutorial</a>. The tool helps attendees focus on building projects with Origami components, instead of setting up build tools which may differ depending on their team.</li>
  <li>NEW: <a href="https://github.com/Financial-Times/stylelint-config-origami-component">Financial-Times/stylelint-config-origami-component</a>: We migrated all our components to use <a href="https://stylelint.io">stylelint</a> for Sass linting. The previous project we depended on was long since abandoned.</li>
  <li>MINOR: <a href="https://github.com/Financial-Times/o-typography">Financial-Times/o-typography</a>: The latest version includes woff2 fonts, as discussed previously.</li>
  <li>MINOR: <a href="https://github.com/Financial-Times/create-origami-component">Financial-Times/create-origami-component</a>: Updates component boilerplate to make it easier to create new origami components. Adds <code class="language-plaintext highlighter-rouge">.eslintrc.js</code> and <code class="language-plaintext highlighter-rouge">.stylelintrc.js</code> configuration, and includes our new Github Actions.</li>
  <li>MINOR: <a href="https://github.com/Financial-Times/polyfill-library">Financial-Times/polyfill-library</a>: Updates the <code class="language-plaintext highlighter-rouge">Intl.PluralRules</code> polyfill to deliver to Edge &lt;18 (another thanks to an external contributor, Github user glsignal).</li>
  <li>MINOR: <a href="https://github.com/Financial-Times/origami-screencap-service">Financial-Times/origami-screencap-service</a>: Weâ€™re a small team that have to prioritise work carefully, so we decided to decommission the origami-screencap-service this month. It was a 10% project which allowed us to capture screenshots of any website. Please let us know if this service would be useful to your team, and weâ€™ll consider reviving it with a support policy.</li>
  <li>MINOR: <a href="https://github.com/Financial-Times/o-share">Financial-Times/o-share</a>: With the help of the design team, we updated o-share to be inline with the style used on our article pages. For example, o-share now supports icon labels and has no margin at larger sizes. This helps design consistency across projects and allowed us to remove custom overrides from the article page.</li>
  <li>MINOR: <a href="https://github.com/Financial-Times/origami-component-converter">Financial-Times/origami-component-converter</a>: this project helps us process Origami components ready to be published to npm. It used a static last of components before but now uses Origami Repo Data to get the latest list of components dynamically. Thatâ€™s one less thing to think about when creating a new component!</li>
  <li>PATCH: <a href="https://github.com/Financial-Times/o-meter">Financial-Times/o-meter</a>: Fixes styling for Chrome 83 and the latest version of Microsoft Edge.</li>
  <li>MAJOR: <a href="https://github.com/Financial-Times/origami-ci-tools">Financial-Times/origami-ci-tools</a>: We updated our CI tools to use the latest version of Origami Build Tools, which will speed up the testing and deployment or Origami components. We also fixed some bugs related to publishing packages without namespaces or with names that differ from the repository name.</li>
  <li>PATCH: <a href="https://github.com/Financial-Times/origami-build-service">Financial-Times/origami-build-service</a>: Documentation fixes.</li>
  <li>PATCH: <a href="https://github.com/Financial-Times/origami-website">Financial-Times/origami-website</a>: Weâ€™re always improving our documentation, specification, and tutorials. This month we made quite a few changes representing feedback from workshops and our work on our build tools.</li>
  <li>PATCH: <a href="https://github.com/Financial-Times/origami-image-service">Financial-Times/origami-image-service</a>: as well as the money saving Fastly work discussed previously, we updated the Image Service to convert png image to jpeg if the image has no alpha channel (no transparency). Doing so should result in smaller images, slightly lower storage costs for us, and help keep our sites and apps quick to load for readers.</li>
  <li>PATCH: <a href="https://github.com/Financial-Times/origami-registry-ui">Financial-Times/origami-registry-ui</a>: as Origami Build Tools primary focus is building components not projects, we no longer use Origami Build Tools to build the front end of the registry. Instead we run <a href="https://github.com/Financial-Times/origami-registry-ui/blob/c24c85a146ecec9acf4c3fd4b121a5badd0ba034/package.json#L27">a few npm scripts</a>.</li>
  <li>PATCH: <a href="https://github.com/Financial-Times/o-syntax-highlight">Financial-Times/o-syntax-highlight</a>: o-syntax-highlight no longer errors when a code tag has other CSS classes. In addition it does not error if a a code block has no language defined, as this may prevent other code blocks that are correct from highlighting, instead it provides a warning in the console.</li>
  <li>PATCH: <a href="https://github.com/Financial-Times/o-quote">Financial-Times/o-quote</a>: We updated the o-quote documentation with usage descriptions from the design team (thanks Josh Wade).</li>
  <li>PATCH: <a href="https://github.com/Financial-Times/sass">Financial-Times/sass</a>: We added a missin a build for linux-musl-x64.</li>
  <li>PATCH: <a href="https://github.com/Financial-Times/o-grid">Financial-Times/o-grid</a>: The snappy mode of o-grid has been deprecated. We updated the deprecation notice to output less, once per Sass entry point (warnings should be helpful not annoying).</li>
  <li>PATCH: <a href="https://github.com/Financial-Times/origami-image-service">Financial-Times/origami-image-service</a>: as well as the money saving Fastly work discussed previously, we updated the Image Service to convert png image to jpeg if the image has no alpha channel (no transparency). Doing so should result in smaller images, slightly lower storage costs for us, and help keep our sites and apps quick to load for readers.</li>
  <li>PATCH: <a href="https://github.com/Financial-Times/origami-registry-ui">Financial-Times/origami-registry-ui</a>: as Origami Build Tools primary focus is building components not projects, we no longer use Origami Build Tools to build the front end of the registry. Instead we run <a href="https://github.com/Financial-Times/origami-registry-ui/blob/c24c85a146ecec9acf4c3fd4b121a5badd0ba034/package.json#L27">a few npm scripts</a>.</li>
  <li>PATCH: <a href="https://github.com/Financial-Times/o-comments">Financial-Times/o-comments</a>: Style changes to increase the scan-ability of comment replies (credit to Glynn Phillips and the Content Innovation team!)</li>
  <li>All Components: We added our new stylelint configuration to each Origami component, so engineers may get immediate feedback in their editor when authoring component Sass instead of having to run the Origami Build Tools verify command.</li>
  <li>All Components: We configured all our components to automatically approve and merge development dependency updates when made by Dependabot (during work hours). This saves us manually doing this work for ~90 repositories so we can focus on more important tasks.</li>
  <li>All Components: We added a Github Action to apply the Origami type label to new issues, to help us manage incoming work for components, services, and other project types.</li>
</ul>


</div>


		
		<div class="o-layout__footer">
			<footer class="o-footer-services">
	<div class="o-footer-services__container">
		<div class="o-footer-services__wrapper o-footer-services__wrapper--top">
			<a class="o-footer-services__icon-link o-footer-services__icon-link--github" href="https://github.com/Financial-Times/origami">View project on GitHub</a>
			<a class="o-footer-services__icon-link o-footer-services__icon-link--github" href="https://github.com/Financial-Times/origami/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-desc">View proposals to Origami</a>
			<a class="o-footer-services__icon-link o-footer-services__icon-link--slack" href="https://financialtimes.slack.com/messages/origami-support">#origami-support</a>
			<p class="o-footer-services__content">Get in touch at <a href="mailto:origami.support@ft.com">origami.support@ft.com</a> for help or advice. Feel free to
				<a href='https://github.com/Financial-Times/origami/edit/main/apps/website/_posts/2020-06-01-newsletter.md'>suggest an edit to this page</a>.</p>
		</div>
	</div>
	<div class="o-footer-services__container">
		<div class="o-footer-services__wrapper o-footer-services__wrapper--legal">
			<div class="o-footer-services__links">
			<a href="http://help.ft.com/help/legal-privacy/cookies/">Cookies</a>
			<a href="http://help.ft.com/help/legal-privacy/copyright/copyright-policy/">Copyright</a>
			<a href="http://help.ft.com/help/legal-privacy/privacy/">Privacy</a>
			<a href="http://help.ft.com/help/legal-privacy/terms-conditions">Terms & Conditions</a>
		</div>
		<p><span>&copy; THE FINANCIAL TIMES LTD 2022.</span> FT and 'Financial Times' are trademarks of The Financial Times Ltd.</p>
	</div>
</footer>

		</div>
		
	</div>

	

</body>
</html>
